import{r as t,h as e}from"./p-59902f89.js";import{c as s,R as n}from"./p-2f3d151d.js";const i=".app-home{padding:10px}button{background:#5851ff;color:white;margin:8px;border:none;font-size:13px;font-weight:700;text-transform:uppercase;padding:16px 20px;border-radius:2px;box-shadow:0 8px 16px rgba(0, 0, 0, 0.1), 0 3px 6px rgba(0, 0, 0, 0.08);outline:0;letter-spacing:0.04em;transition:all 0.15s ease;cursor:pointer}button:hover{box-shadow:0 3px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.1);transform:translateY(1px)}";const o=i;const r=class{constructor(e){t(this,e);this.API_URL="http://localhost:2989/api";this.currentDisplayItem=undefined;this.currentCategoryId=1;this.items=undefined;this.rootCategories=undefined;this.renderLimit=200}async componentWillLoad(){this.items=await this.fetchFromApi("/items/items/average-prices");this.sortByPercentageVariation();this.rootCategories=await this.fetchFromApi("/rootCategories")}setLookUpItem(t){const e=this.items.find((e=>e.id==t));if(e){this.currentDisplayItem=e}}async fetchFromApi(t){const e=await fetch(this.API_URL+t);if(!e.ok){throw new Error(`HTTP error! Status: ${e.status}`)}return await e.json()}sortByPercentageVariation(){this.items=[...this.items].sort(((t,e)=>{const s=this.calculatePercentageVariation(t);const n=this.calculatePercentageVariation(e);return n-s}))}calculatePercentageVariation(t){if(t.averagePrices.length<2)return 0;const e=t.averagePrices.map((t=>t.averagePrice));const s=e[e.length-1];const n=e[e.length-2];if(n===0)return 0;return(s-n)/n*100}render(){return e("div",{key:"089348d193869d3125ef61d523f823a75fa4ec85",class:"app-home"},e("div",{key:"81e0ff5d15526dfd7df889c6fd335e1a7e33641c"},e("input",{key:"3d332e2a582ead6f52d4bd411ce82ca8daa0ceb4",type:"number",value:this.renderLimit,onChange:t=>this.renderLimit=t.target.value}),e("select",{key:"530c39618f1f05f7431825e3b8026935996a3732",onChange:t=>this.currentCategoryId=t.target.value},this.rootCategories.map((t=>e("option",{value:t.id},t.name)))),e("div",{key:"fdf97e6e163fae29b8b793af730580560fc2c943"},e("datalist",{key:"66ec64e09801f195c504b851fbb39c07b9459701",id:"suggestions"},this.items.map((t=>e("option",{value:t.id},t.name)))),e("input",{key:"d49d1a08a71d75706b33f4e7ced2d74035a178c5",onChange:t=>{this.setLookUpItem(t.target.value)},autoComplete:"on",list:"suggestions"}))),this.currentDisplayItem?e("div",null,e("div",{class:"row"},e("item-lookup-component",{item:this.currentDisplayItem}))):this.items.filter((t=>t.averagePrices!=null&&t.averagePrices.length!=0)).filter((t=>t.category.rootCategory.id==this.currentCategoryId)).slice(0,this.renderLimit).map((t=>e("div",{class:"row"},e("item-lookup-component",{item:t})))))}};r.style=o;const c=s();const a="header{background:#5851ff;color:white;height:56px;display:flex;align-items:center;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26)}h1{font-size:1.4rem;font-weight:500;color:#fff;padding:0 12px;cursor:pointer}";const h=a;const f=class{constructor(e){t(this,e)}render(){return e("div",{key:"2018e0d37e8c8db87c3e8f14b5fa768611b4aa66"},e("header",{key:"73e4b119bc8e09458fd9181c202662567aca1f42"},e("h1",{key:"92d5c4d0f96b241b19d4076016b1ae414a0e9b45",onClick:()=>c.push("/")},"Home"),e("h1",{key:"1c8d887ec0489577e0c062b125fdb7f3f9903456",onClick:()=>c.push("/graphs")},"Graphs")),e("main",{key:"5d0c62f6793ef7283d85b88e2cae5e93a6d03e0f"},e(c.Switch,{key:"aa1cf04a7ed6671a5f72020fa77f5f80693e98d7"},e(n,{key:"002e0690ad3d0a7c3aa137a65637ea0bc8cb9b31",path:"/"},e("item-recipe-component",{key:"a31304e1d49aae0f2b2da1a27072027d8523412b"})),e(n,{key:"a3ee3e6c500604fd59258d003b467ae76f6ae157",path:"/graphs"},e("app-home",{key:"a6fe0e1434778e88bfb8f8d26ad196ec44a1f068"})))))}};f.style=h;
/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function u(t){return t+.5|0}const l=(t,e,s)=>Math.max(Math.min(t,s),e);function d(t){return l(u(t*2.55),0,255)}function p(t){return l(u(t*255),0,255)}function b(t){return l(u(t/2.55)/100,0,1)}function m(t){return l(u(t*100),0,100)}const g={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};const x=[..."0123456789ABCDEF"];const y=t=>x[t&15];const M=t=>x[(t&240)>>4]+x[t&15];const v=t=>(t&240)>>4===(t&15);const w=t=>v(t.r)&&v(t.g)&&v(t.b)&&v(t.a);function k(t){var e=t.length;var s;if(t[0]==="#"){if(e===4||e===5){s={r:255&g[t[1]]*17,g:255&g[t[2]]*17,b:255&g[t[3]]*17,a:e===5?g[t[4]]*17:255}}else if(e===7||e===9){s={r:g[t[1]]<<4|g[t[2]],g:g[t[3]]<<4|g[t[4]],b:g[t[5]]<<4|g[t[6]],a:e===9?g[t[7]]<<4|g[t[8]]:255}}}return s}const _=(t,e)=>t<255?e(t):"";function O(t){var e=w(t)?y:M;return t?"#"+e(t.r)+e(t.g)+e(t.b)+_(t.a,e):undefined}const D=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function S(t,e,s){const n=e*Math.min(s,1-s);const i=(e,i=(e+t/30)%12)=>s-n*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function C(t,e,s){const n=(n,i=(n+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function j(t,e,s){const n=S(t,1,.5);let i;if(e+s>1){i=1/(e+s);e*=i;s*=i}for(i=0;i<3;i++){n[i]*=1-e-s;n[i]+=e}return n}function E(t,e,s,n,i){if(t===i){return(e-s)/n+(e<s?6:0)}if(e===i){return(s-t)/n+2}return(t-e)/n+4}function P(t){const e=255;const s=t.r/e;const n=t.g/e;const i=t.b/e;const o=Math.max(s,n,i);const r=Math.min(s,n,i);const c=(o+r)/2;let a,h,f;if(o!==r){f=o-r;h=c>.5?f/(2-o-r):f/(o+r);a=E(s,n,i,f,o);a=a*60+.5}return[a|0,h||0,c]}function A(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(p)}function I(t,e,s){return A(S,t,e,s)}function F(t,e,s){return A(j,t,e,s)}function N(t,e,s){return A(C,t,e,s)}function R(t){return(t%360+360)%360}function T(t){const e=D.exec(t);let s=255;let n;if(!e){return}if(e[5]!==n){s=e[6]?d(+e[5]):p(+e[5])}const i=R(+e[2]);const o=+e[3]/100;const r=+e[4]/100;if(e[1]==="hwb"){n=F(i,o,r)}else if(e[1]==="hsv"){n=N(i,o,r)}else{n=I(i,o,r)}return{r:n[0],g:n[1],b:n[2],a:s}}function L(t,e){var s=P(t);s[0]=R(s[0]+e);s=I(s);t.r=s[0];t.g=s[1];t.b=s[2]}function $(t){if(!t){return}const e=P(t);const s=e[0];const n=m(e[1]);const i=m(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${b(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const z={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"};const B={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Y(){const t={};const e=Object.keys(B);const s=Object.keys(z);let n,i,o,r,c;for(n=0;n<e.length;n++){r=c=e[n];for(i=0;i<s.length;i++){o=s[i];c=c.replace(o,z[o])}o=parseInt(B[r],16);t[c]=[o>>16&255,o>>8&255,o&255]}return t}let H;function W(t){if(!H){H=Y();H.transparent=[0,0,0,0]}const e=H[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const V=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function U(t){const e=V.exec(t);let s=255;let n,i,o;if(!e){return}if(e[7]!==n){const t=+e[7];s=e[8]?d(t):l(t*255,0,255)}n=+e[1];i=+e[3];o=+e[5];n=255&(e[2]?d(n):l(n,0,255));i=255&(e[4]?d(i):l(i,0,255));o=255&(e[6]?d(o):l(o,0,255));return{r:n,g:i,b:o,a:s}}function X(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Z=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055;const q=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function K(t,e,s){const n=q(b(t.r));const i=q(b(t.g));const o=q(b(t.b));return{r:p(Z(n+s*(q(b(e.r))-n))),g:p(Z(i+s*(q(b(e.g))-i))),b:p(Z(o+s*(q(b(e.b))-o))),a:t.a+s*(e.a-t.a)}}function Q(t,e,s){if(t){let n=P(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1));n=I(n);t.r=n[0];t.g=n[1];t.b=n[2]}}function G(t,e){return t?Object.assign(e||{},t):t}function J(t){var e={r:0,g:0,b:0,a:255};if(Array.isArray(t)){if(t.length>=3){e={r:t[0],g:t[1],b:t[2],a:255};if(t.length>3){e.a=p(t[3])}}}else{e=G(t,{r:0,g:0,b:0,a:1});e.a=p(e.a)}return e}function tt(t){if(t.charAt(0)==="r"){return U(t)}return T(t)}class et{constructor(t){if(t instanceof et){return t}const e=typeof t;let s;if(e==="object"){s=J(t)}else if(e==="string"){s=k(t)||W(t)||tt(t)}this._rgb=s;this._valid=!!s}get valid(){return this._valid}get rgb(){var t=G(this._rgb);if(t){t.a=b(t.a)}return t}set rgb(t){this._rgb=J(t)}rgbString(){return this._valid?X(this._rgb):undefined}hexString(){return this._valid?O(this._rgb):undefined}hslString(){return this._valid?$(this._rgb):undefined}mix(t,e){if(t){const s=this.rgb;const n=t.rgb;let i;const o=e===i?.5:e;const r=2*o-1;const c=s.a-n.a;const a=((r*c===-1?r:(r+c)/(1+r*c))+1)/2;i=1-a;s.r=255&a*s.r+i*n.r+.5;s.g=255&a*s.g+i*n.g+.5;s.b=255&a*s.b+i*n.b+.5;s.a=o*s.a+(1-o)*n.a;this.rgb=s}return this}interpolate(t,e){if(t){this._rgb=K(this._rgb,t._rgb,e)}return this}clone(){return new et(this.rgb)}alpha(t){this._rgb.a=p(t);return this}clearer(t){const e=this._rgb;e.a*=1-t;return this}greyscale(){const t=this._rgb;const e=u(t.r*.3+t.g*.59+t.b*.11);t.r=t.g=t.b=e;return this}opaquer(t){const e=this._rgb;e.a*=1+t;return this}negate(){const t=this._rgb;t.r=255-t.r;t.g=255-t.g;t.b=255-t.b;return this}lighten(t){Q(this._rgb,2,t);return this}darken(t){Q(this._rgb,2,-t);return this}saturate(t){Q(this._rgb,1,t);return this}desaturate(t){Q(this._rgb,1,-t);return this}rotate(t){L(this._rgb,t);return this}}
/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */const st=(()=>{let t=0;return()=>t++})();function nt(t){return t===null||t===undefined}function it(t){if(Array.isArray&&Array.isArray(t)){return true}const e=Object.prototype.toString.call(t);if(e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"){return true}return false}function ot(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function rt(t){return(typeof t==="number"||t instanceof Number)&&isFinite(+t)}function ct(t,e){return rt(t)?t:e}function at(t,e){return typeof t==="undefined"?e:t}const ht=(t,e)=>typeof t==="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ft(t,e,s){if(t&&typeof t.call==="function"){return t.apply(s,e)}}function ut(t,e,s,n){let i,o,r;if(it(t)){o=t.length;if(n){for(i=o-1;i>=0;i--){e.call(s,t[i],i)}}else{for(i=0;i<o;i++){e.call(s,t[i],i)}}}else if(ot(t)){r=Object.keys(t);o=r.length;for(i=0;i<o;i++){e.call(s,t[r[i]],r[i])}}}function lt(t,e){let s,n,i,o;if(!t||!e||t.length!==e.length){return false}for(s=0,n=t.length;s<n;++s){i=t[s];o=e[s];if(i.datasetIndex!==o.datasetIndex||i.index!==o.index){return false}}return true}function dt(t){if(it(t)){return t.map(dt)}if(ot(t)){const e=Object.create(null);const s=Object.keys(t);const n=s.length;let i=0;for(;i<n;++i){e[s[i]]=dt(t[s[i]])}return e}return t}function pt(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function bt(t,e,s,n){if(!pt(t)){return}const i=e[t];const o=s[t];if(ot(i)&&ot(o)){mt(i,o,n)}else{e[t]=dt(o)}}function mt(t,e,s){const n=it(e)?e:[e];const i=n.length;if(!ot(t)){return t}s=s||{};const o=s.merger||bt;let r;for(let e=0;e<i;++e){r=n[e];if(!ot(r)){continue}const i=Object.keys(r);for(let e=0,n=i.length;e<n;++e){o(i[e],t,r,s)}}return t}function gt(t,e){return mt(t,e,{merger:xt})}function xt(t,e,s){if(!pt(t)){return}const n=e[t];const i=s[t];if(ot(n)&&ot(i)){gt(n,i)}else if(!Object.prototype.hasOwnProperty.call(e,t)){e[t]=dt(i)}}const yt={"":t=>t,x:t=>t.x,y:t=>t.y};function Mt(t){const e=t.split(".");const s=[];let n="";for(const t of e){n+=t;if(n.endsWith("\\")){n=n.slice(0,-1)+"."}else{s.push(n);n=""}}return s}function vt(t){const e=Mt(t);return t=>{for(const s of e){if(s===""){break}t=t&&t[s]}return t}}function wt(t,e){const s=yt[e]||(yt[e]=vt(e));return s(t)}function kt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _t=t=>typeof t!=="undefined";const Ot=t=>typeof t==="function";const Dt=(t,e)=>{if(t.size!==e.size){return false}for(const s of t){if(!e.has(s)){return false}}return true};function St(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ct=Math.PI;const jt=2*Ct;const Et=jt+Ct;const Pt=Number.POSITIVE_INFINITY;const At=Ct/180;const It=Ct/2;const Ft=Ct/4;const Nt=Ct*2/3;const Rt=Math.log10;const Tt=Math.sign;function Lt(t,e,s){return Math.abs(t-e)<s}function $t(t){const e=Math.round(t);t=Lt(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(Rt(t)));const n=t/s;const i=n<=1?1:n<=2?2:n<=5?5:10;return i*s}function zt(t){const e=[];const s=Math.sqrt(t);let n;for(n=1;n<s;n++){if(t%n===0){e.push(n);e.push(t/n)}}if(s===(s|0)){e.push(s)}e.sort(((t,e)=>t-e)).pop();return e}function Bt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Yt(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function Ht(t,e,s){let n,i,o;for(n=0,i=t.length;n<i;n++){o=t[n][s];if(!isNaN(o)){e.min=Math.min(e.min,o);e.max=Math.max(e.max,o)}}}function Wt(t){return t*(Ct/180)}function Vt(t){return t*(180/Ct)}function Ut(t){if(!rt(t)){return}let e=1;let s=0;while(Math.round(t*e)/e!==t){e*=10;s++}return s}function Xt(t,e){const s=e.x-t.x;const n=e.y-t.y;const i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);if(o<-.5*Ct){o+=jt}return{angle:o,distance:i}}function Zt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qt(t,e){return(t-e+Et)%jt-Ct}function Kt(t){return(t%jt+jt)%jt}function Qt(t,e,s,n){const i=Kt(t);const o=Kt(e);const r=Kt(s);const c=Kt(o-i);const a=Kt(r-i);const h=Kt(i-o);const f=Kt(i-r);return i===o||i===r||n&&o===r||c>a&&h<f}function Gt(t,e,s){return Math.max(e,Math.min(s,t))}function Jt(t){return Gt(t,-32768,32767)}function te(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function ee(t,e,s){s=s||(s=>t[s]<e);let n=t.length-1;let i=0;let o;while(n-i>1){o=i+n>>1;if(s(o)){i=o}else{n=o}}return{lo:i,hi:n}}const se=(t,e,s,n)=>ee(t,s,n?n=>{const i=t[n][e];return i<s||i===s&&t[n+1][e]===s}:n=>t[n][e]<s);const ne=(t,e,s)=>ee(t,s,(n=>t[n][e]>=s));const ie=["push","pop","shift","splice","unshift"];function oe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:true,enumerable:false,value:{listeners:[e]}});ie.forEach((e=>{const s="_onData"+kt(e);const n=t[e];Object.defineProperty(t,e,{configurable:true,enumerable:false,value(...e){const i=n.apply(this,e);t._chartjs.listeners.forEach((t=>{if(typeof t[s]==="function"){t[s](...e)}}));return i}})}))}function re(t,e){const s=t._chartjs;if(!s){return}const n=s.listeners;const i=n.indexOf(e);if(i!==-1){n.splice(i,1)}if(n.length>0){return}ie.forEach((e=>{delete t[e]}));delete t._chartjs}const ce=function(){if(typeof window==="undefined"){return function(t){return t()}}return window.requestAnimationFrame}();function ae(t,e){let s=[];let n=false;return function(...i){s=i;if(!n){n=true;ce.call(window,(()=>{n=false;t.apply(e,s)}))}}}function he(t,e){let s;return function(...n){if(e){clearTimeout(s);s=setTimeout(t,e,n)}else{t.apply(this,n)}return e}}const fe=t=>t==="start"?"left":t==="end"?"right":"center";const ue=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2;function le(t,e,s){const n=e.length;let i=0;let o=n;if(t._sorted){const{iScale:r,_parsed:c}=t;const a=r.axis;const{min:h,max:f,minDefined:u,maxDefined:l}=r.getUserBounds();if(u){i=Gt(Math.min(se(c,a,h).lo,s?n:se(e,a,r.getPixelForValue(h)).lo),0,n-1)}if(l){o=Gt(Math.max(se(c,r.axis,f,true).hi+1,s?0:se(e,a,r.getPixelForValue(f),true).hi+1),i,n)-i}else{o=n-i}}return{start:i,count:o}}function de(t){const{xScale:e,yScale:s,_scaleRanges:n}=t;const i={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n){t._scaleRanges=i;return true}const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;Object.assign(n,i);return o}const pe=t=>t===0||t===1;const be=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*jt/s));const me=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*jt/s)+1;const ge={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*It)+1,easeOutSine:t=>Math.sin(t*It),easeInOutSine:t=>-.5*(Math.cos(Ct*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>pe(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>pe(t)?t:be(t,.075,.3),easeOutElastic:t=>pe(t)?t:me(t,.075,.3),easeInOutElastic(t){const e=.1125;const s=.45;return pe(t)?t:t<.5?.5*be(t*2,e,s):.5+.5*me(t*2-1,e,s)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;if((t/=.5)<1){return.5*(t*t*(((e*=1.525)+1)*t-e))}return.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ge.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625;const s=2.75;if(t<1/s){return e*t*t}if(t<2/s){return e*(t-=1.5/s)*t+.75}if(t<2.5/s){return e*(t-=2.25/s)*t+.9375}return e*(t-=2.625/s)*t+.984375},easeInOutBounce:t=>t<.5?ge.easeInBounce(t*2)*.5:ge.easeOutBounce(t*2-1)*.5+.5};function xe(t){if(t&&typeof t==="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return false}function ye(t){return xe(t)?t:new et(t)}function Me(t){return xe(t)?t:new et(t).saturate(.5).darken(.1).hexString()}const ve=["x","y","borderWidth","radius","tension"];const we=["color","borderColor","backgroundColor"];function ke(t){t.set("animation",{delay:undefined,duration:1e3,easing:"easeOutQuart",fn:undefined,from:undefined,loop:undefined,to:undefined,type:undefined});t.describe("animation",{_fallback:false,_indexable:false,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});t.set("animations",{colors:{type:"color",properties:we},numbers:{type:"number",properties:ve}});t.describe("animations",{_fallback:"animation"});t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function _e(t){t.set("layout",{autoPadding:true,padding:{top:0,right:0,bottom:0,left:0}})}const Oe=new Map;function De(t,e){e=e||{};const s=t+JSON.stringify(e);let n=Oe.get(s);if(!n){n=new Intl.NumberFormat(t,e);Oe.set(s,n)}return n}function Se(t,e,s){return De(e,s).format(t)}const Ce={values(t){return it(t)?t:""+t},numeric(t,e,s){if(t===0){return"0"}const n=this.chart.options.locale;let i;let o=t;if(s.length>1){const e=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));if(e<1e-4||e>1e15){i="scientific"}o=je(t,s)}const r=Rt(Math.abs(o));const c=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0);const a={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};Object.assign(a,this.options.ticks.format);return Se(t,n,a)},logarithmic(t,e,s){if(t===0){return"0"}const n=s[e].significand||t/Math.pow(10,Math.floor(Rt(t)));if([1,2,3,5,10,15].includes(n)||e>.8*s.length){return Ce.numeric.call(this,t,e,s)}return""}};function je(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;if(Math.abs(s)>=1&&t!==Math.floor(t)){s=t-Math.floor(t)}return s}var Ee={formatters:Ce};function Pe(t){t.set("scale",{display:true,offset:false,reverse:false,beginAtZero:false,bounds:"ticks",clip:true,grace:0,grid:{display:true,lineWidth:1,drawOnChartArea:true,drawTicks:true,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:false},border:{display:true,dash:[],dashOffset:0,width:1},title:{display:false,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:false,textStrokeWidth:0,textStrokeColor:"",padding:3,display:true,autoSkip:true,autoSkipPadding:3,labelOffset:0,callback:Ee.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:false,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});t.route("scale.ticks","color","","color");t.route("scale.grid","color","","borderColor");t.route("scale.border","color","","borderColor");t.route("scale.title","color","","color");t.describe("scale",{_fallback:false,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"});t.describe("scales",{_fallback:"scale"});t.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ae=Object.create(null);const Ie=Object.create(null);function Fe(t,e){if(!e){return t}const s=e.split(".");for(let e=0,n=s.length;e<n;++e){const n=s[e];t=t[n]||(t[n]=Object.create(null))}return t}function Ne(t,e,s){if(typeof e==="string"){return mt(Fe(t,e),s)}return mt(Fe(t,""),e)}class Re{constructor(t,e){this.animation=undefined;this.backgroundColor="rgba(0,0,0,0.1)";this.borderColor="rgba(0,0,0,0.1)";this.color="#666";this.datasets={};this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio();this.elements={};this.events=["mousemove","mouseout","click","touchstart","touchmove"];this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null};this.hover={};this.hoverBackgroundColor=(t,e)=>Me(e.backgroundColor);this.hoverBorderColor=(t,e)=>Me(e.borderColor);this.hoverColor=(t,e)=>Me(e.color);this.indexAxis="x";this.interaction={mode:"nearest",intersect:true,includeInvisible:false};this.maintainAspectRatio=true;this.onHover=null;this.onClick=null;this.parsing=true;this.plugins={};this.responsive=true;this.scale=undefined;this.scales={};this.showLine=true;this.drawActiveElementsOnTop=true;this.describe(t);this.apply(e)}set(t,e){return Ne(this,t,e)}get(t){return Fe(this,t)}describe(t,e){return Ne(Ie,t,e)}override(t,e){return Ne(Ae,t,e)}route(t,e,s,n){const i=Fe(this,t);const o=Fe(this,s);const r="_"+e;Object.defineProperties(i,{[r]:{value:i[e],writable:true},[e]:{enumerable:true,get(){const t=this[r];const e=o[n];if(ot(t)){return Object.assign({},e,t)}return at(t,e)},set(t){this[r]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Te=new Re({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:false,_indexable:false}},[ke,_e,Pe]);function Le(t){if(!t||nt(t.size)||nt(t.family)){return null}return(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function $e(t,e,s,n,i){let o=e[i];if(!o){o=e[i]=t.measureText(i).width;s.push(i)}if(o>n){n=o}return n}function ze(t,e,s){const n=t.currentDevicePixelRatio;const i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function Be(t,e){if(!e&&!t){return}e=e||t.getContext("2d");e.save();e.resetTransform();e.clearRect(0,0,t.width,t.height);e.restore()}function Ye(t,e,s,n){He(t,e,s,n,null)}function He(t,e,s,n,i){let o,r,c,a,h,f,u,l;const d=e.pointStyle;const p=e.rotation;const b=e.radius;let m=(p||0)*At;if(d&&typeof d==="object"){o=d.toString();if(o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"){t.save();t.translate(s,n);t.rotate(m);t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height);t.restore();return}}if(isNaN(b)||b<=0){return}t.beginPath();switch(d){default:if(i){t.ellipse(s,n,i/2,b,0,0,jt)}else{t.arc(s,n,b,0,jt)}t.closePath();break;case"triangle":f=i?i/2:b;t.moveTo(s+Math.sin(m)*f,n-Math.cos(m)*b);m+=Nt;t.lineTo(s+Math.sin(m)*f,n-Math.cos(m)*b);m+=Nt;t.lineTo(s+Math.sin(m)*f,n-Math.cos(m)*b);t.closePath();break;case"rectRounded":h=b*.516;a=b-h;r=Math.cos(m+Ft)*a;u=Math.cos(m+Ft)*(i?i/2-h:a);c=Math.sin(m+Ft)*a;l=Math.sin(m+Ft)*(i?i/2-h:a);t.arc(s-u,n-c,h,m-Ct,m-It);t.arc(s+l,n-r,h,m-It,m);t.arc(s+u,n+c,h,m,m+It);t.arc(s-l,n+r,h,m+It,m+Ct);t.closePath();break;case"rect":if(!p){a=Math.SQRT1_2*b;f=i?i/2:a;t.rect(s-f,n-a,2*f,2*a);break}m+=Ft;case"rectRot":u=Math.cos(m)*(i?i/2:b);r=Math.cos(m)*b;c=Math.sin(m)*b;l=Math.sin(m)*(i?i/2:b);t.moveTo(s-u,n-c);t.lineTo(s+l,n-r);t.lineTo(s+u,n+c);t.lineTo(s-l,n+r);t.closePath();break;case"crossRot":m+=Ft;case"cross":u=Math.cos(m)*(i?i/2:b);r=Math.cos(m)*b;c=Math.sin(m)*b;l=Math.sin(m)*(i?i/2:b);t.moveTo(s-u,n-c);t.lineTo(s+u,n+c);t.moveTo(s+l,n-r);t.lineTo(s-l,n+r);break;case"star":u=Math.cos(m)*(i?i/2:b);r=Math.cos(m)*b;c=Math.sin(m)*b;l=Math.sin(m)*(i?i/2:b);t.moveTo(s-u,n-c);t.lineTo(s+u,n+c);t.moveTo(s+l,n-r);t.lineTo(s-l,n+r);m+=Ft;u=Math.cos(m)*(i?i/2:b);r=Math.cos(m)*b;c=Math.sin(m)*b;l=Math.sin(m)*(i?i/2:b);t.moveTo(s-u,n-c);t.lineTo(s+u,n+c);t.moveTo(s+l,n-r);t.lineTo(s-l,n+r);break;case"line":r=i?i/2:Math.cos(m)*b;c=Math.sin(m)*b;t.moveTo(s-r,n-c);t.lineTo(s+r,n+c);break;case"dash":t.moveTo(s,n);t.lineTo(s+Math.cos(m)*(i?i/2:b),n+Math.sin(m)*b);break;case false:t.closePath();break}t.fill();if(e.borderWidth>0){t.stroke()}}function We(t,e,s){s=s||.5;return!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Ve(t,e){t.save();t.beginPath();t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top);t.clip()}function Ue(t){t.restore()}function Xe(t,e,s,n,i){if(!e){return t.lineTo(s.x,s.y)}if(i==="middle"){const n=(e.x+s.x)/2;t.lineTo(n,e.y);t.lineTo(n,s.y)}else if(i==="after"!==!!n){t.lineTo(e.x,s.y)}else{t.lineTo(s.x,e.y)}t.lineTo(s.x,s.y)}function Ze(t,e,s,n){if(!e){return t.lineTo(s.x,s.y)}t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function qe(t,e){if(e.translation){t.translate(e.translation[0],e.translation[1])}if(!nt(e.rotation)){t.rotate(e.rotation)}if(e.color){t.fillStyle=e.color}if(e.textAlign){t.textAlign=e.textAlign}if(e.textBaseline){t.textBaseline=e.textBaseline}}function Ke(t,e,s,n,i){if(i.strikethrough||i.underline){const o=t.measureText(n);const r=e-o.actualBoundingBoxLeft;const c=e+o.actualBoundingBoxRight;const a=s-o.actualBoundingBoxAscent;const h=s+o.actualBoundingBoxDescent;const f=i.strikethrough?(a+h)/2:h;t.strokeStyle=t.fillStyle;t.beginPath();t.lineWidth=i.decorationWidth||2;t.moveTo(r,f);t.lineTo(c,f);t.stroke()}}function Qe(t,e){const s=t.fillStyle;t.fillStyle=e.color;t.fillRect(e.left,e.top,e.width,e.height);t.fillStyle=s}function Ge(t,e,s,n,i,o={}){const r=it(e)?e:[e];const c=o.strokeWidth>0&&o.strokeColor!=="";let a,h;t.save();t.font=i.string;qe(t,o);for(a=0;a<r.length;++a){h=r[a];if(o.backdrop){Qe(t,o.backdrop)}if(c){if(o.strokeColor){t.strokeStyle=o.strokeColor}if(!nt(o.strokeWidth)){t.lineWidth=o.strokeWidth}t.strokeText(h,s,n,o.maxWidth)}t.fillText(h,s,n,o.maxWidth);Ke(t,s,n,h,o);n+=Number(i.lineHeight)}t.restore()}const Je=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/;const ts=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function es(t,e){const s=(""+t).match(Je);if(!s||s[1]==="normal"){return e*1.2}t=+s[2];switch(s[3]){case"px":return t;case"%":t/=100;break}return e*t}const ss=t=>+t||0;function ns(t,e){const s={};const n=ot(e);const i=n?Object.keys(e):e;const o=ot(t)?n?s=>at(t[s],t[e[s]]):e=>t[e]:()=>t;for(const t of i){s[t]=ss(o(t))}return s}function is(t){return ns(t,{top:"y",right:"x",bottom:"y",left:"x"})}function os(t){const e=is(t);e.width=e.left+e.right;e.height=e.top+e.bottom;return e}function rs(t,e){t=t||{};e=e||Te.font;let s=at(t.size,e.size);if(typeof s==="string"){s=parseInt(s,10)}let n=at(t.style,e.style);if(n&&!(""+n).match(ts)){console.warn('Invalid font style specified: "'+n+'"');n=undefined}const i={family:at(t.family,e.family),lineHeight:es(at(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:at(t.weight,e.weight),string:""};i.string=Le(i);return i}function cs(t,e,s,n){let i=true;let o,r,c;for(o=0,r=t.length;o<r;++o){c=t[o];if(c===undefined){continue}if(e!==undefined&&typeof c==="function"){c=c(e);i=false}if(s!==undefined&&it(c)){c=c[s%c.length];i=false}if(c!==undefined){if(n&&!i){n.cacheable=false}return c}}}function as(t,e,s){const{min:n,max:i}=t;const o=ht(e,(i-n)/2);const r=(t,e)=>s&&t===0?0:t+e;return{min:r(n,-Math.abs(o)),max:r(i,o)}}function hs(t,e){return Object.assign(Object.create(t),e)}function fs(t,e=[""],s,n,i=(()=>t[0])){const o=s||t;if(typeof n==="undefined"){n=Ds("_fallback",t)}const r={[Symbol.toStringTag]:"Object",_cacheable:true,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:i,override:s=>fs([s,...t],e,o,n)};return new Proxy(r,{deleteProperty(e,s){delete e[s];delete e._keys;delete t[0][s];return true},get(s,n){return bs(s,n,(()=>Os(n,e,t,s)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return Ss(t).includes(e)},ownKeys(t){return Ss(t)},set(t,e,s){const n=t._storage||(t._storage=i());t[e]=n[e]=s;delete t._keys;return true}})}function us(t,e,s,n){const i={_cacheable:false,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:ls(t,n),setContext:e=>us(t,e,s,n),override:i=>us(t.override(i),e,s,n)};return new Proxy(i,{deleteProperty(e,s){delete e[s];delete t[s];return true},get(t,e,s){return bs(t,e,(()=>ms(t,e,s)))},getOwnPropertyDescriptor(e,s){return e._descriptors.allKeys?Reflect.has(t,s)?{enumerable:true,configurable:true}:undefined:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(e,s,n){t[s]=n;delete e[s];return true}})}function ls(t,e={scriptable:true,indexable:true}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Ot(s)?s:()=>s,isIndexable:Ot(n)?n:()=>n}}const ds=(t,e)=>t?t+kt(e):e;const ps=(t,e)=>ot(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bs(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor"){return t[e]}const n=s();t[e]=n;return n}function ms(t,e,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:r}=t;let c=n[e];if(Ot(c)&&r.isScriptable(e)){c=gs(e,c,t,s)}if(it(c)&&c.length){c=xs(e,c,t,r.isIndexable)}if(ps(e,c)){c=us(c,i,o&&o[e],r)}return c}function gs(t,e,s,n){const{_proxy:i,_context:o,_subProxy:r,_stack:c}=s;if(c.has(t)){throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t)}c.add(t);let a=e(o,r||n);c.delete(t);if(ps(t,a)){a=ws(i._scopes,i,t,a)}return a}function xs(t,e,s,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:c}=s;if(typeof o.index!=="undefined"&&n(t)){return e[o.index%e.length]}else if(ot(e[0])){const s=e;const n=i._scopes.filter((t=>t!==s));e=[];for(const a of s){const s=ws(n,i,t,a);e.push(us(s,o,r&&r[t],c))}}return e}function ys(t,e,s){return Ot(t)?t(e,s):t}const Ms=(t,e)=>t===true?e:typeof t==="string"?wt(e,t):undefined;function vs(t,e,s,n,i){for(const o of e){const e=Ms(s,o);if(e){t.add(e);const o=ys(e._fallback,s,i);if(typeof o!=="undefined"&&o!==s&&o!==n){return o}}else if(e===false&&typeof n!=="undefined"&&s!==n){return null}}return false}function ws(t,e,s,n){const i=e._rootScopes;const o=ys(e._fallback,s,n);const r=[...t,...i];const c=new Set;c.add(n);let a=ks(c,r,s,o||s,n);if(a===null){return false}if(typeof o!=="undefined"&&o!==s){a=ks(c,r,o,a,n);if(a===null){return false}}return fs(Array.from(c),[""],i,o,(()=>_s(e,s,n)))}function ks(t,e,s,n,i){while(s){s=vs(t,e,s,n,i)}return s}function _s(t,e,s){const n=t._getTarget();if(!(e in n)){n[e]={}}const i=n[e];if(it(i)&&ot(s)){return s}return i||{}}function Os(t,e,s,n){let i;for(const o of e){i=Ds(ds(o,t),s);if(typeof i!=="undefined"){return ps(t,i)?ws(s,n,t,i):i}}}function Ds(t,e){for(const s of e){if(!s){continue}const e=s[t];if(typeof e!=="undefined"){return e}}}function Ss(t){let e=t._keys;if(!e){e=t._keys=Cs(t._scopes)}return e}function Cs(t){const e=new Set;for(const s of t){for(const t of Object.keys(s).filter((t=>!t.startsWith("_")))){e.add(t)}}return Array.from(e)}const js=Number.EPSILON||1e-14;const Es=(t,e)=>e<t.length&&!t[e].skip&&t[e];const Ps=t=>t==="x"?"y":"x";function As(t,e,s,n){const i=t.skip?e:t;const o=e;const r=s.skip?e:s;const c=Zt(o,i);const a=Zt(r,o);let h=c/(c+a);let f=a/(c+a);h=isNaN(h)?0:h;f=isNaN(f)?0:f;const u=n*h;const l=n*f;return{previous:{x:o.x-u*(r.x-i.x),y:o.y-u*(r.y-i.y)},next:{x:o.x+l*(r.x-i.x),y:o.y+l*(r.y-i.y)}}}function Is(t,e,s){const n=t.length;let i,o,r,c,a;let h=Es(t,0);for(let f=0;f<n-1;++f){a=h;h=Es(t,f+1);if(!a||!h){continue}if(Lt(e[f],0,js)){s[f]=s[f+1]=0;continue}i=s[f]/e[f];o=s[f+1]/e[f];c=Math.pow(i,2)+Math.pow(o,2);if(c<=9){continue}r=3/Math.sqrt(c);s[f]=i*r*e[f];s[f+1]=o*r*e[f]}}function Fs(t,e,s="x"){const n=Ps(s);const i=t.length;let o,r,c;let a=Es(t,0);for(let h=0;h<i;++h){r=c;c=a;a=Es(t,h+1);if(!c){continue}const i=c[s];const f=c[n];if(r){o=(i-r[s])/3;c[`cp1${s}`]=i-o;c[`cp1${n}`]=f-o*e[h]}if(a){o=(a[s]-i)/3;c[`cp2${s}`]=i+o;c[`cp2${n}`]=f+o*e[h]}}}function Ns(t,e="x"){const s=Ps(e);const n=t.length;const i=Array(n).fill(0);const o=Array(n);let r,c,a;let h=Es(t,0);for(r=0;r<n;++r){c=a;a=h;h=Es(t,r+1);if(!a){continue}if(h){const t=h[e]-a[e];i[r]=t!==0?(h[s]-a[s])/t:0}o[r]=!c?i[r]:!h?i[r-1]:Tt(i[r-1])!==Tt(i[r])?0:(i[r-1]+i[r])/2}Is(t,i,o);Fs(t,o,e)}function Rs(t,e,s){return Math.max(Math.min(t,s),e)}function Ts(t,e){let s,n,i,o,r;let c=We(t[0],e);for(s=0,n=t.length;s<n;++s){r=o;o=c;c=s<n-1&&We(t[s+1],e);if(!o){continue}i=t[s];if(r){i.cp1x=Rs(i.cp1x,e.left,e.right);i.cp1y=Rs(i.cp1y,e.top,e.bottom)}if(c){i.cp2x=Rs(i.cp2x,e.left,e.right);i.cp2y=Rs(i.cp2y,e.top,e.bottom)}}}function Ls(t,e,s,n,i){let o,r,c,a;if(e.spanGaps){t=t.filter((t=>!t.skip))}if(e.cubicInterpolationMode==="monotone"){Ns(t,i)}else{let s=n?t[t.length-1]:t[0];for(o=0,r=t.length;o<r;++o){c=t[o];a=As(s,c,t[Math.min(o+1,r-(n?0:1))%r],e.tension);c.cp1x=a.previous.x;c.cp1y=a.previous.y;c.cp2x=a.next.x;c.cp2y=a.next.y;s=c}}if(e.capBezierPoints){Ts(t,s)}}function $s(){return typeof window!=="undefined"&&typeof document!=="undefined"}function zs(t){let e=t.parentNode;if(e&&e.toString()==="[object ShadowRoot]"){e=e.host}return e}function Bs(t,e,s){let n;if(typeof t==="string"){n=parseInt(t,10);if(t.indexOf("%")!==-1){n=n/100*e.parentNode[s]}}else{n=t}return n}const Ys=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Hs(t,e){return Ys(t).getPropertyValue(e)}const Ws=["top","right","bottom","left"];function Vs(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=Ws[i];n[o]=parseFloat(t[e+"-"+o+s])||0}n.width=n.left+n.right;n.height=n.top+n.bottom;return n}const Us=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function Xs(t,e){const s=t.touches;const n=s&&s.length?s[0]:t;const{offsetX:i,offsetY:o}=n;let r=false;let c,a;if(Us(i,o,t.target)){c=i;a=o}else{const t=e.getBoundingClientRect();c=n.clientX-t.left;a=n.clientY-t.top;r=true}return{x:c,y:a,box:r}}function Zs(t,e){if("native"in t){return t}const{canvas:s,currentDevicePixelRatio:n}=e;const i=Ys(s);const o=i.boxSizing==="border-box";const r=Vs(i,"padding");const c=Vs(i,"border","width");const{x:a,y:h,box:f}=Xs(t,s);const u=r.left+(f&&c.left);const l=r.top+(f&&c.top);let{width:d,height:p}=e;if(o){d-=r.width+c.width;p-=r.height+c.height}return{x:Math.round((a-u)/d*s.width/n),y:Math.round((h-l)/p*s.height/n)}}function qs(t,e,s){let n,i;if(e===undefined||s===undefined){const o=t&&zs(t);if(!o){e=t.clientWidth;s=t.clientHeight}else{const t=o.getBoundingClientRect();const r=Ys(o);const c=Vs(r,"border","width");const a=Vs(r,"padding");e=t.width-a.width-c.width;s=t.height-a.height-c.height;n=Bs(r.maxWidth,o,"clientWidth");i=Bs(r.maxHeight,o,"clientHeight")}}return{width:e,height:s,maxWidth:n||Pt,maxHeight:i||Pt}}const Ks=t=>Math.round(t*10)/10;function Qs(t,e,s,n){const i=Ys(t);const o=Vs(i,"margin");const r=Bs(i.maxWidth,t,"clientWidth")||Pt;const c=Bs(i.maxHeight,t,"clientHeight")||Pt;const a=qs(t,e,s);let{width:h,height:f}=a;if(i.boxSizing==="content-box"){const t=Vs(i,"border","width");const e=Vs(i,"padding");h-=e.width+t.width;f-=e.height+t.height}h=Math.max(0,h-o.width);f=Math.max(0,n?h/n:f-o.height);h=Ks(Math.min(h,r,a.maxWidth));f=Ks(Math.min(f,c,a.maxHeight));if(h&&!f){f=Ks(h/2)}const u=e!==undefined||s!==undefined;if(u&&n&&a.height&&f>a.height){f=a.height;h=Ks(Math.floor(f*n))}return{width:h,height:f}}function Gs(t,e,s){const n=e||1;const i=Math.floor(t.height*n);const o=Math.floor(t.width*n);t.height=Math.floor(t.height);t.width=Math.floor(t.width);const r=t.canvas;if(r.style&&(s||!r.style.height&&!r.style.width)){r.style.height=`${t.height}px`;r.style.width=`${t.width}px`}if(t.currentDevicePixelRatio!==n||r.height!==i||r.width!==o){t.currentDevicePixelRatio=n;r.height=i;r.width=o;t.ctx.setTransform(n,0,0,n,0,0);return true}return false}const Js=function(){let t=false;try{const e={get passive(){t=true;return false}};if($s()){window.addEventListener("test",null,e);window.removeEventListener("test",null,e)}}catch(t){}return t}();function tn(t,e){const s=Hs(t,e);const n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:undefined}function en(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function sn(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function nn(t,e,s,n){const i={x:t.cp2x,y:t.cp2y};const o={x:e.cp1x,y:e.cp1y};const r=en(t,i,s);const c=en(i,o,s);const a=en(o,e,s);const h=en(r,c,s);const f=en(c,a,s);return en(h,f,s)}function on(t){if(t==="angle"){return{between:Qt,compare:qt,normalize:Kt}}return{between:te,compare:(t,e)=>t-e,normalize:t=>t}}function rn({start:t,end:e,count:s,loop:n,style:i}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:i}}function cn(t,e,s){const{property:n,start:i,end:o}=s;const{between:r,normalize:c}=on(n);const a=e.length;let{start:h,end:f,loop:u}=t;let l,d;if(u){h+=a;f+=a;for(l=0,d=a;l<d;++l){if(!r(c(e[h%a][n]),i,o)){break}h--;f--}h%=a;f%=a}if(f<h){f+=a}return{start:h,end:f,loop:u,style:t.style}}function an(t,e,s){if(!s){return[t]}const{property:n,start:i,end:o}=s;const r=e.length;const{compare:c,between:a,normalize:h}=on(n);const{start:f,end:u,loop:l,style:d}=cn(t,e,s);const p=[];let b=false;let m=null;let g,x,y;const M=()=>a(i,y,g)&&c(i,y)!==0;const v=()=>c(o,g)===0||a(o,y,g);const w=()=>b||M();const k=()=>!b||v();for(let t=f,s=f;t<=u;++t){x=e[t%r];if(x.skip){continue}g=h(x[n]);if(g===y){continue}b=a(g,i,o);if(m===null&&w()){m=c(g,i)===0?t:s}if(m!==null&&k()){p.push(rn({start:m,end:t,loop:l,count:r,style:d}));m=null}s=t;y=g}if(m!==null){p.push(rn({start:m,end:u,loop:l,count:r,style:d}))}return p}function hn(t,e){const s=[];const n=t.segments;for(let i=0;i<n.length;i++){const o=an(n[i],t.points,e);if(o.length){s.push(...o)}}return s}function fn(t,e,s,n){let i=0;let o=e-1;if(s&&!n){while(i<e&&!t[i].skip){i++}}while(i<e&&t[i].skip){i++}i%=e;if(s){o+=i}while(o>i&&t[o%e].skip){o--}o%=e;return{start:i,end:o}}function un(t,e,s,n){const i=t.length;const o=[];let r=e;let c=t[e];let a;for(a=e+1;a<=s;++a){const s=t[a%i];if(s.skip||s.stop){if(!c.skip){n=false;o.push({start:e%i,end:(a-1)%i,loop:n});e=r=s.stop?a:null}}else{r=a;if(c.skip){e=a}}c=s}if(r!==null){o.push({start:e%i,end:r%i,loop:n})}return o}function ln(t,e){const s=t.points;const n=t.options.spanGaps;const i=s.length;if(!i){return[]}const o=!!t._loop;const{start:r,end:c}=fn(s,i,o,n);if(n===true){return dn(t,[{start:r,end:c,loop:o}],s,e)}const a=c<r?c+i:c;const h=!!t._fullLoop&&r===0&&c===i-1;return dn(t,un(s,r,a,h),s,e)}function dn(t,e,s,n){if(!n||!n.setContext||!s){return e}return pn(t,e,s,n)}function pn(t,e,s,n){const i=t._chart.getContext();const o=bn(t.options);const{_datasetIndex:r,options:{spanGaps:c}}=t;const a=s.length;const h=[];let f=o;let u=e[0].start;let l=u;function d(t,e,n,i){const o=c?-1:1;if(t===e){return}t+=a;while(s[t%a].skip){t-=o}while(s[e%a].skip){e+=o}if(t%a!==e%a){h.push({start:t%a,end:e%a,loop:n,style:i});f=i;u=e%a}}for(const t of e){u=c?u:t.start;let e=s[u%a];let o;for(l=u+1;l<=t.end;l++){const c=s[l%a];o=bn(n.setContext(hs(i,{type:"segment",p0:e,p1:c,p0DataIndex:(l-1)%a,p1DataIndex:l%a,datasetIndex:r})));if(mn(o,f)){d(u,l-1,t.loop,f)}e=c;f=o}if(u<l-1){d(u,l-1,t.loop,f)}}return h}function bn(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function mn(t,e){if(!e){return false}const s=[];const n=function(t,e){if(!xe(e)){return e}if(!s.includes(e)){s.push(e)}return s.indexOf(e)};return JSON.stringify(t,n)!==JSON.stringify(e,n)}
/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class gn{constructor(){this._request=null;this._charts=new Map;this._running=false;this._lastDate=undefined}_notify(t,e,s,n){const i=e.listeners[n];const o=e.duration;i.forEach((n=>n({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(s-e.start,o)})))}_refresh(){if(this._request){return}this._running=true;this._request=ce.call(window,(()=>{this._update();this._request=null;if(this._running){this._refresh()}}))}_update(t=Date.now()){let e=0;this._charts.forEach(((s,n)=>{if(!s.running||!s.items.length){return}const i=s.items;let o=i.length-1;let r=false;let c;for(;o>=0;--o){c=i[o];if(c._active){if(c._total>s.duration){s.duration=c._total}c.tick(t);r=true}else{i[o]=i[i.length-1];i.pop()}}if(r){n.draw();this._notify(n,s,t,"progress")}if(!i.length){s.running=false;this._notify(n,s,t,"complete");s.initial=false}e+=i.length}));this._lastDate=t;if(e===0){this._running=false}}_getAnims(t){const e=this._charts;let s=e.get(t);if(!s){s={running:false,initial:true,items:[],listeners:{complete:[],progress:[]}};e.set(t,s)}return s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){if(!e||!e.length){return}this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);if(!e){return}e.running=true;e.start=Date.now();e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0);this._refresh()}running(t){if(!this._running){return false}const e=this._charts.get(t);if(!e||!e.running||!e.items.length){return false}return true}stop(t){const e=this._charts.get(t);if(!e||!e.items.length){return}const s=e.items;let n=s.length-1;for(;n>=0;--n){s[n].cancel()}e.items=[];this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xn=new gn;const yn="transparent";const Mn={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=ye(t||yn);const i=n.valid&&ye(e||yn);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class vn{constructor(t,e,s,n){const i=e[s];n=cs([t.to,n,i,t.from]);const o=cs([t.from,i,n]);this._active=true;this._fn=t.fn||Mn[t.type||typeof o];this._easing=ge[t.easing]||ge.linear;this._start=Math.floor(Date.now()+(t.delay||0));this._duration=this._total=Math.floor(t.duration);this._loop=!!t.loop;this._target=e;this._prop=s;this._from=o;this._to=n;this._promises=undefined}active(){return this._active}update(t,e,s){if(this._active){this._notify(false);const n=this._target[this._prop];const i=s-this._start;const o=this._duration-i;this._start=s;this._duration=Math.floor(Math.max(o,t.duration));this._total+=i;this._loop=!!t.loop;this._to=cs([t.to,e,n,t.from]);this._from=cs([t.from,n,e])}}cancel(){if(this._active){this.tick(Date.now());this._active=false;this._notify(false)}}tick(t){const e=t-this._start;const s=this._duration;const n=this._prop;const i=this._from;const o=this._loop;const r=this._to;let c;this._active=i!==r&&(o||e<s);if(!this._active){this._target[n]=r;this._notify(true);return}if(e<0){this._target[n]=i;return}c=e/s%2;c=o&&c>1?2-c:c;c=this._easing(Math.min(1,Math.max(0,c)));this._target[n]=this._fn(i,r,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,s)=>{t.push({res:e,rej:s})}))}_notify(t){const e=t?"res":"rej";const s=this._promises||[];for(let t=0;t<s.length;t++){s[t][e]()}}}class wn{constructor(t,e){this._chart=t;this._properties=new Map;this.configure(e)}configure(t){if(!ot(t)){return}const e=Object.keys(Te.animation);const s=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const i=t[n];if(!ot(i)){return}const o={};for(const t of e){o[t]=i[t]}(it(i.properties)&&i.properties||[n]).forEach((t=>{if(t===n||!s.has(t)){s.set(t,o)}}))}))}_animateOptions(t,e){const s=e.options;const n=_n(t,s);if(!n){return[]}const i=this._createAnimations(n,s);if(s.$shared){kn(t.options.$animations,s).then((()=>{t.options=s}),(()=>{}))}return i}_createAnimations(t,e){const s=this._properties;const n=[];const i=t.$animations||(t.$animations={});const o=Object.keys(e);const r=Date.now();let c;for(c=o.length-1;c>=0;--c){const a=o[c];if(a.charAt(0)==="$"){continue}if(a==="options"){n.push(...this._animateOptions(t,e));continue}const h=e[a];let f=i[a];const u=s.get(a);if(f){if(u&&f.active()){f.update(u,h,r);continue}else{f.cancel()}}if(!u||!u.duration){t[a]=h;continue}i[a]=f=new vn(u,t,a,h);n.push(f)}return n}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length){xn.add(this._chart,s);return true}}}function kn(t,e){const s=[];const n=Object.keys(e);for(let e=0;e<n.length;e++){const i=t[n[e]];if(i&&i.active()){s.push(i.wait())}}return Promise.all(s)}function _n(t,e){if(!e){return}let s=t.options;if(!s){t.options=e;return}if(s.$shared){t.options=s=Object.assign({},s,{$shared:false,$animations:{}})}return s}function On(t,e){const s=t&&t.options||{};const n=s.reverse;const i=s.min===undefined?e:0;const o=s.max===undefined?e:0;return{start:n?o:i,end:n?i:o}}function Dn(t,e,s){if(s===false){return false}const n=On(t,s);const i=On(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Sn(t){let e,s,n,i;if(ot(t)){e=t.top;s=t.right;n=t.bottom;i=t.left}else{e=s=n=i=t}return{top:e,right:s,bottom:n,left:i,disabled:t===false}}function Cn(t,e){const s=[];const n=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=n.length;i<o;++i){s.push(n[i].index)}return s}function jn(t,e,s,n={}){const i=t.keys;const o=n.mode==="single";let r,c,a,h;if(e===null){return}let f=false;for(r=0,c=i.length;r<c;++r){a=+i[r];if(a===s){f=true;if(n.all){continue}break}h=t.values[a];if(rt(h)&&(o||e===0||Tt(e)===Tt(h))){e+=h}}if(!f&&!n.all){return 0}return e}function En(t,e){const{iScale:s,vScale:n}=e;const i=s.axis==="x"?"x":"y";const o=n.axis==="x"?"x":"y";const r=Object.keys(t);const c=new Array(r.length);let a,h,f;for(a=0,h=r.length;a<h;++a){f=r[a];c[a]={[i]:f,[o]:t[f]}}return c}function Pn(t,e){const s=t&&t.options.stacked;return s||s===undefined&&e.stack!==undefined}function An(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function In(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Fn(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function Nn(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const e=t[i.index];if(s&&e>0||!s&&e<0){return i.index}}return null}function Rn(t,e){const{chart:s,_cachedMeta:n}=t;const i=s._stacks||(s._stacks={});const{iScale:o,vScale:r,index:c}=n;const a=o.axis;const h=r.axis;const f=An(o,r,n);const u=e.length;let l;for(let t=0;t<u;++t){const s=e[t];const{[a]:o,[h]:u}=s;const d=s._stacks||(s._stacks={});l=d[h]=Fn(i,f,o);l[c]=u;l._top=Nn(l,r,true,n.type);l._bottom=Nn(l,r,false,n.type);const p=l._visualValues||(l._visualValues={});p[c]=u}}function Tn(t,e){const s=t.scales;return Object.keys(s).filter((t=>s[t].axis===e)).shift()}function Ln(t,e){return hs(t,{active:false,dataset:undefined,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $n(t,e,s){return hs(t,{active:false,dataIndex:e,parsed:undefined,raw:undefined,element:s,index:e,mode:"default",type:"data"})}function zn(t,e){const s=t.controller.index;const n=t.vScale&&t.vScale.axis;if(!n){return}e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||e[n]===undefined||e[n][s]===undefined){return}delete e[n][s];if(e[n]._visualValues!==undefined&&e[n]._visualValues[s]!==undefined){delete e[n]._visualValues[s]}}}const Bn=t=>t==="reset"||t==="none";const Yn=(t,e)=>e?t:Object.assign({},t);const Hn=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Cn(s,true),values:null};class Wn{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t;this._ctx=t.ctx;this.index=e;this._cachedDataOpts={};this._cachedMeta=this.getMeta();this._type=this._cachedMeta.type;this.options=undefined;this._parsing=false;this._data=undefined;this._objectData=undefined;this._sharedOptions=undefined;this._drawStart=undefined;this._drawCount=undefined;this.enableOptionSharing=false;this.supportsDecimation=false;this.$context=undefined;this._syncList=[];this.datasetElementType=new.target.datasetElementType;this.dataElementType=new.target.dataElementType;this.initialize()}initialize(){const t=this._cachedMeta;this.configure();this.linkScales();t._stacked=Pn(t.vScale,t);this.addElements();if(this.options.fill&&!this.chart.isPluginEnabled("filler")){console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}}updateIndex(t){if(this.index!==t){zn(this._cachedMeta)}this.index=t}linkScales(){const t=this.chart;const e=this._cachedMeta;const s=this.getDataset();const n=(t,e,s,n)=>t==="x"?e:t==="r"?n:s;const i=e.xAxisID=at(s.xAxisID,Tn(t,"x"));const o=e.yAxisID=at(s.yAxisID,Tn(t,"y"));const r=e.rAxisID=at(s.rAxisID,Tn(t,"r"));const c=e.indexAxis;const a=e.iAxisID=n(c,i,o,r);const h=e.vAxisID=n(c,o,i,r);e.xScale=this.getScaleForId(i);e.yScale=this.getScaleForId(o);e.rScale=this.getScaleForId(r);e.iScale=this.getScaleForId(a);e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;if(this._data){re(this._data,this)}if(t._stacked){zn(t)}}_dataCheck(){const t=this.getDataset();const e=t.data||(t.data=[]);const s=this._data;if(ot(e)){const t=this._cachedMeta;this._data=En(e,t)}else if(s!==e){if(s){re(s,this);const t=this._cachedMeta;zn(t);t._parsed=[]}if(e&&Object.isExtensible(e)){oe(e,this)}this._syncList=[];this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck();if(this.datasetElementType){t.dataset=new this.datasetElementType}}buildOrUpdateElements(t){const e=this._cachedMeta;const s=this.getDataset();let n=false;this._dataCheck();const i=e._stacked;e._stacked=Pn(e.vScale,e);if(e.stack!==s.stack){n=true;zn(e);e.stack=s.stack}this._resyncElements(t);if(n||i!==e._stacked){Rn(this,e._parsed);e._stacked=Pn(e.vScale,e)}}configure(){const t=this.chart.config;const e=t.datasetScopeKeys(this._type);const s=t.getOptionScopes(this.getDataset(),e,true);this.options=t.createResolver(s,this.getContext());this._parsing=this.options.parsing;this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:n}=this;const{iScale:i,_stacked:o}=s;const r=i.axis;let c=t===0&&e===n.length?true:s._sorted;let a=t>0&&s._parsed[t-1];let h,f,u;if(this._parsing===false){s._parsed=n;s._sorted=true;u=n}else{if(it(n[t])){u=this.parseArrayData(s,n,t,e)}else if(ot(n[t])){u=this.parseObjectData(s,n,t,e)}else{u=this.parsePrimitiveData(s,n,t,e)}const i=()=>f[r]===null||a&&f[r]<a[r];for(h=0;h<e;++h){s._parsed[h+t]=f=u[h];if(c){if(i()){c=false}a=f}}s._sorted=c}if(o){Rn(this,u)}}parsePrimitiveData(t,e,s,n){const{iScale:i,vScale:o}=t;const r=i.axis;const c=o.axis;const a=i.getLabels();const h=i===o;const f=new Array(n);let u,l,d;for(u=0,l=n;u<l;++u){d=u+s;f[u]={[r]:h||i.parse(a[d],d),[c]:o.parse(e[d],d)}}return f}parseArrayData(t,e,s,n){const{xScale:i,yScale:o}=t;const r=new Array(n);let c,a,h,f;for(c=0,a=n;c<a;++c){h=c+s;f=e[h];r[c]={x:i.parse(f[0],h),y:o.parse(f[1],h)}}return r}parseObjectData(t,e,s,n){const{xScale:i,yScale:o}=t;const{xAxisKey:r="x",yAxisKey:c="y"}=this._parsing;const a=new Array(n);let h,f,u,l;for(h=0,f=n;h<f;++h){u=h+s;l=e[u];a[h]={x:i.parse(wt(l,r),u),y:o.parse(wt(l,c),u)}}return a}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const n=this.chart;const i=this._cachedMeta;const o=e[t.axis];const r={keys:Cn(n,true),values:e._stacks[t.axis]._visualValues};return jn(r,o,i.index,{mode:s})}updateRangeFromParsed(t,e,s,n){const i=s[e.axis];let o=i===null?NaN:i;const r=n&&s._stacks[e.axis];if(n&&r){n.values=r;o=jn(n,i,this._cachedMeta.index)}t.min=Math.min(t.min,o);t.max=Math.max(t.max,o)}getMinMax(t,e){const s=this._cachedMeta;const n=s._parsed;const i=s._sorted&&t===s.iScale;const o=n.length;const r=this._getOtherScale(t);const c=Hn(e,s,this.chart);const a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};const{min:h,max:f}=In(r);let u,l;function d(){l=n[u];const e=l[r.axis];return!rt(l[t.axis])||h>e||f<e}for(u=0;u<o;++u){if(d()){continue}this.updateRangeFromParsed(a,t,l,c);if(i){break}}if(i){for(u=o-1;u>=0;--u){if(d()){continue}this.updateRangeFromParsed(a,t,l,c);break}}return a}getAllParsedValues(t){const e=this._cachedMeta._parsed;const s=[];let n,i,o;for(n=0,i=e.length;n<i;++n){o=e[n][t.axis];if(rt(o)){s.push(o)}}return s}getMaxOverflow(){return false}getLabelAndValue(t){const e=this._cachedMeta;const s=e.iScale;const n=e.vScale;const i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default");e._clip=Sn(at(this.options.clip,Dn(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx;const e=this.chart;const s=this._cachedMeta;const n=s.data||[];const i=e.chartArea;const o=[];const r=this._drawStart||0;const c=this._drawCount||n.length-r;const a=this.options.drawActiveElementsOnTop;let h;if(s.dataset){s.dataset.draw(t,i,r,c)}for(h=r;h<r+c;++h){const e=n[h];if(e.hidden){continue}if(e.active&&a){o.push(e)}else{e.draw(t,i)}}for(h=0;h<o.length;++h){o[h].draw(t,i)}}getStyle(t,e){const s=e?"active":"default";return t===undefined&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=$n(this.getContext(),t,e));i.parsed=this.getParsed(t);i.raw=n.data[t];i.index=i.dataIndex=t}else{i=this.$context||(this.$context=Ln(this.chart.getContext(),this.index));i.dataset=n;i.index=i.datasetIndex=this.index}i.active=!!e;i.mode=s;return i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const n=e==="active";const i=this._cachedDataOpts;const o=t+"-"+e;const r=i[o];const c=this.enableOptionSharing&&_t(s);if(r){return Yn(r,c)}const a=this.chart.config;const h=a.datasetElementScopeKeys(this._type,t);const f=n?[`${t}Hover`,"hover",t,""]:[t,""];const u=a.getOptionScopes(this.getDataset(),h);const l=Object.keys(Te.elements[t]);const d=()=>this.getContext(s,n,e);const p=a.resolveNamedOptions(u,l,d,f);if(p.$shared){p.$shared=c;i[o]=Object.freeze(Yn(p,c))}return p}_resolveAnimations(t,e,s){const n=this.chart;const i=this._cachedDataOpts;const o=`animation-${e}`;const r=i[o];if(r){return r}let c;if(n.options.animation!==false){const n=this.chart.config;const i=n.datasetAnimationScopeKeys(this._type,e);const o=n.getOptionScopes(this.getDataset(),i);c=n.createResolver(o,this.getContext(t,s,e))}const a=new wn(n,c&&c.animations);if(c&&c._cacheable){i[o]=Object.freeze(a)}return a}getSharedOptions(t){if(!t.$shared){return}return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Bn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e);const n=this._sharedOptions;const i=this.getSharedOptions(s);const o=this.includeOptions(e,i)||i!==n;this.updateSharedOptions(i,e,s);return{sharedOptions:i,includeOptions:o}}updateElement(t,e,s,n){if(Bn(n)){Object.assign(t,s)}else{this._resolveAnimations(e,n).update(t,s)}}updateSharedOptions(t,e,s){if(t&&!Bn(e)){this._resolveAnimations(undefined,e).update(t,s)}}_setStyle(t,e,s,n){t.active=n;const i=this.getStyle(e,n);this._resolveAnimations(e,s,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",false)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",true)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;if(t){this._setStyle(t,undefined,"active",false)}}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;if(t){this._setStyle(t,undefined,"active",true)}}_resyncElements(t){const e=this._data;const s=this._cachedMeta.data;for(const[t,e,s]of this._syncList){this[t](e,s)}this._syncList=[];const n=s.length;const i=e.length;const o=Math.min(i,n);if(o){this.parse(0,o)}if(i>n){this._insertElements(n,i-n,t)}else if(i<n){this._removeElements(i,n-i)}}_insertElements(t,e,s=true){const n=this._cachedMeta;const i=n.data;const o=t+e;let r;const c=t=>{t.length+=e;for(r=t.length-1;r>=o;r--){t[r]=t[r-e]}};c(i);for(r=t;r<o;++r){i[r]=new this.dataElementType}if(this._parsing){c(n._parsed)}this.parse(t,e);if(s){this.updateElements(i,t,e,"reset")}}updateElements(t,e,s,n){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(t,e);if(s._stacked){zn(s,n)}}s.data.splice(t,e)}_sync(t){if(this._parsing){this._syncList.push(t)}else{const[e,s,n]=t;this[e](s,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){if(e){this._sync(["_removeElements",t,e])}const s=arguments.length-2;if(s){this._sync(["_insertElements",t,s])}}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Vn extends Wn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:true,spanGaps:false};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=true;this.supportsDecimation=true;super.initialize()}update(t){const e=this._cachedMeta;const{dataset:s,data:n=[],_dataset:i}=e;const o=this.chart._animationsDisabled;let{start:r,count:c}=le(e,n,o);this._drawStart=r;this._drawCount=c;if(de(e)){r=0;c=n.length}s._chart=this.chart;s._datasetIndex=this.index;s._decimated=!!i._decimated;s.points=n;const a=this.resolveDatasetElementOptions(t);if(!this.options.showLine){a.borderWidth=0}a.segment=this.options.segment;this.updateElement(s,undefined,{animated:!o,options:a},t);this.updateElements(n,r,c,t)}updateElements(t,e,s,n){const i=n==="reset";const{iScale:o,vScale:r,_stacked:c,_dataset:a}=this._cachedMeta;const{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,n);const u=o.axis;const l=r.axis;const{spanGaps:d,segment:p}=this.options;const b=Bt(d)?d:Number.POSITIVE_INFINITY;const m=this.chart._animationsDisabled||i||n==="none";const g=e+s;const x=t.length;let y=e>0&&this.getParsed(e-1);for(let s=0;s<x;++s){const d=t[s];const x=m?d:{};if(s<e||s>=g){x.skip=true;continue}const M=this.getParsed(s);const v=nt(M[l]);const w=x[u]=o.getPixelForValue(M[u],s);const k=x[l]=i||v?r.getBasePixel():r.getPixelForValue(c?this.applyStack(r,M,c):M[l],s);x.skip=isNaN(w)||isNaN(k)||v;x.stop=s>0&&Math.abs(M[u]-y[u])>b;if(p){x.parsed=M;x.raw=a.data[s]}if(f){x.options=h||this.resolveDataElementOptions(s,d.active?"active":n)}if(!m){this.updateElement(d,s,x,n)}y=M}}getMaxOverflow(){const t=this._cachedMeta;const e=t.dataset;const s=e.options&&e.options.borderWidth||0;const n=t.data||[];if(!n.length){return s}const i=n[0].size(this.resolveDataElementOptions(0));const o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis);super.draw()}}function Un(t,e,s,n){const{controller:i,data:o,_sorted:r}=t;const c=i._cachedMeta.iScale;if(c&&e===c.axis&&e!=="r"&&r&&o.length){const t=c._reversePixels?ne:se;if(!n){return t(o,e,s)}else if(i._sharedOptions){const n=o[0];const i=typeof n.getRange==="function"&&n.getRange(e);if(i){const n=t(o,e,s-i);const r=t(o,e,s+i);return{lo:n.lo,hi:r.hi}}}}return{lo:0,hi:o.length-1}}function Xn(t,e,s,n,i){const o=t.getSortedVisibleDatasetMetas();const r=s[e];for(let t=0,s=o.length;t<s;++t){const{index:s,data:c}=o[t];const{lo:a,hi:h}=Un(o[t],e,r,i);for(let t=a;t<=h;++t){const e=c[t];if(!e.skip){n(e,s,t)}}}}function Zn(t){const e=t.indexOf("x")!==-1;const s=t.indexOf("y")!==-1;return function(t,n){const i=e?Math.abs(t.x-n.x):0;const o=s?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function qn(t,e,s,n,i){const o=[];if(!i&&!t.isPointInArea(e)){return o}const r=function(s,r,c){if(!i&&!We(s,t.chartArea,0)){return}if(s.inRange(e.x,e.y,n)){o.push({element:s,datasetIndex:r,index:c})}};Xn(t,s,e,r,true);return o}function Kn(t,e,s,n){let i=[];function o(t,s,o){const{startAngle:r,endAngle:c}=t.getProps(["startAngle","endAngle"],n);const{angle:a}=Xt(t,{x:e.x,y:e.y});if(Qt(a,r,c)){i.push({element:t,datasetIndex:s,index:o})}}Xn(t,s,e,o);return i}function Qn(t,e,s,n,i,o){let r=[];const c=Zn(s);let a=Number.POSITIVE_INFINITY;function h(s,h,f){const u=s.inRange(e.x,e.y,i);if(n&&!u){return}const l=s.getCenterPoint(i);const d=!!o||t.isPointInArea(l);if(!d&&!u){return}const p=c(e,l);if(p<a){r=[{element:s,datasetIndex:h,index:f}];a=p}else if(p===a){r.push({element:s,datasetIndex:h,index:f})}}Xn(t,s,e,h);return r}function Gn(t,e,s,n,i,o){if(!o&&!t.isPointInArea(e)){return[]}return s==="r"&&!n?Kn(t,e,s,i):Qn(t,e,s,n,i,o)}function Jn(t,e,s,n,i){const o=[];const r=s==="x"?"inXRange":"inYRange";let c=false;Xn(t,s,e,((t,n,a)=>{if(t[r]&&t[r](e[s],i)){o.push({element:t,datasetIndex:n,index:a});c=c||t.inRange(e.x,e.y,i)}}));if(n&&!c){return[]}return o}var ti={evaluateInteractionItems:Xn,modes:{index(t,e,s,n){const i=Zs(e,t);const o=s.axis||"x";const r=s.includeInvisible||false;const c=s.intersect?qn(t,i,o,n,r):Gn(t,i,o,false,n,r);const a=[];if(!c.length){return[]}t.getSortedVisibleDatasetMetas().forEach((t=>{const e=c[0].index;const s=t.data[e];if(s&&!s.skip){a.push({element:s,datasetIndex:t.index,index:e})}}));return a},dataset(t,e,s,n){const i=Zs(e,t);const o=s.axis||"xy";const r=s.includeInvisible||false;let c=s.intersect?qn(t,i,o,n,r):Gn(t,i,o,false,n,r);if(c.length>0){const e=c[0].datasetIndex;const s=t.getDatasetMeta(e).data;c=[];for(let t=0;t<s.length;++t){c.push({element:s[t],datasetIndex:e,index:t})}}return c},point(t,e,s,n){const i=Zs(e,t);const o=s.axis||"xy";const r=s.includeInvisible||false;return qn(t,i,o,n,r)},nearest(t,e,s,n){const i=Zs(e,t);const o=s.axis||"xy";const r=s.includeInvisible||false;return Gn(t,i,o,s.intersect,n,r)},x(t,e,s,n){const i=Zs(e,t);return Jn(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=Zs(e,t);return Jn(t,i,"y",s.intersect,n)}}};const ei=["left","top","right","bottom"];function si(t,e){return t.filter((t=>t.pos===e))}function ni(t,e){return t.filter((t=>ei.indexOf(t.pos)===-1&&t.box.axis===e))}function ii(t,e){return t.sort(((t,s)=>{const n=e?s:t;const i=e?t:s;return n.weight===i.weight?n.index-i.index:n.weight-i.weight}))}function oi(t){const e=[];let s,n,i,o,r,c;for(s=0,n=(t||[]).length;s<n;++s){i=t[s];({position:o,options:{stack:r,stackWeight:c=1}}=i);e.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:c})}return e}function ri(t){const e={};for(const s of t){const{stack:t,pos:n,stackWeight:i}=s;if(!t||!ei.includes(n)){continue}const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++;o.weight+=i}return e}function ci(t,e){const s=ri(t);const{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let o,r,c;for(o=0,r=t.length;o<r;++o){c=t[o];const{fullSize:r}=c.box;const a=s[c.stack];const h=a&&c.stackWeight/a.weight;if(c.horizontal){c.width=h?h*n:r&&e.availableWidth;c.height=i}else{c.width=n;c.height=h?h*i:r&&e.availableHeight}}return s}function ai(t){const e=oi(t);const s=ii(e.filter((t=>t.box.fullSize)),true);const n=ii(si(e,"left"),true);const i=ii(si(e,"right"));const o=ii(si(e,"top"),true);const r=ii(si(e,"bottom"));const c=ni(e,"x");const a=ni(e,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(a).concat(r).concat(c),chartArea:si(e,"chartArea"),vertical:n.concat(i).concat(a),horizontal:o.concat(r).concat(c)}}function hi(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function fi(t,e){t.top=Math.max(t.top,e.top);t.left=Math.max(t.left,e.left);t.bottom=Math.max(t.bottom,e.bottom);t.right=Math.max(t.right,e.right)}function ui(t,e,s,n){const{pos:i,box:o}=s;const r=t.maxPadding;if(!ot(i)){if(s.size){t[i]-=s.size}const e=n[s.stack]||{size:0,count:1};e.size=Math.max(e.size,s.horizontal?o.height:o.width);s.size=e.size/e.count;t[i]+=s.size}if(o.getPadding){fi(r,o.getPadding())}const c=Math.max(0,e.outerWidth-hi(r,t,"left","right"));const a=Math.max(0,e.outerHeight-hi(r,t,"top","bottom"));const h=c!==t.w;const f=a!==t.h;t.w=c;t.h=a;return s.horizontal?{same:h,other:f}:{same:f,other:h}}function li(t){const e=t.maxPadding;function s(s){const n=Math.max(e[s]-t[s],0);t[s]+=n;return n}t.y+=s("top");t.x+=s("left");s("right");s("bottom")}function di(t,e){const s=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};t.forEach((t=>{n[t]=Math.max(e[t],s[t])}));return n}return t?n(["left","right"]):n(["top","bottom"])}function pi(t,e,s,n){const i=[];let o,r,c,a,h,f;for(o=0,r=t.length,h=0;o<r;++o){c=t[o];a=c.box;a.update(c.width||e.w,c.height||e.h,di(c.horizontal,e));const{same:r,other:u}=ui(e,s,c,n);h|=r&&i.length;f=f||u;if(!a.fullSize){i.push(c)}}return h&&pi(i,e,s,n)||f}function bi(t,e,s,n,i){t.top=s;t.left=e;t.right=e+n;t.bottom=s+i;t.width=n;t.height=i}function mi(t,e,s,n){const i=s.padding;let{x:o,y:r}=e;for(const c of t){const t=c.box;const a=n[c.stack]||{count:1,placed:0,weight:1};const h=c.stackWeight/a.weight||1;if(c.horizontal){const n=e.w*h;const o=a.size||t.height;if(_t(a.start)){r=a.start}if(t.fullSize){bi(t,i.left,r,s.outerWidth-i.right-i.left,o)}else{bi(t,e.left+a.placed,r,n,o)}a.start=r;a.placed+=n;r=t.bottom}else{const n=e.h*h;const r=a.size||t.width;if(_t(a.start)){o=a.start}if(t.fullSize){bi(t,o,i.top,r,s.outerHeight-i.bottom-i.top)}else{bi(t,o,e.top+a.placed,r,n)}a.start=o;a.placed+=n;o=t.right}}e.x=o;e.y=r}var gi={addBox(t,e){if(!t.boxes){t.boxes=[]}e.fullSize=e.fullSize||false;e.position=e.position||"top";e.weight=e.weight||0;e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]};t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;if(s!==-1){t.boxes.splice(s,1)}},configure(t,e,s){e.fullSize=s.fullSize;e.position=s.position;e.weight=s.weight},update(t,e,s,n){if(!t){return}const i=os(t.options.layout.padding);const o=Math.max(e-i.width,0);const r=Math.max(s-i.height,0);const c=ai(t.boxes);const a=c.vertical;const h=c.horizontal;ut(t.boxes,(t=>{if(typeof t.beforeLayout==="function"){t.beforeLayout()}}));const f=a.reduce(((t,e)=>e.box.options&&e.box.options.display===false?t:t+1),0)||1;const u=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/f,hBoxMaxHeight:r/2});const l=Object.assign({},i);fi(l,os(n));const d=Object.assign({maxPadding:l,w:o,h:r,x:i.left,y:i.top},i);const p=ci(a.concat(h),u);pi(c.fullSize,d,u,p);pi(a,d,u,p);if(pi(h,d,u,p)){pi(a,d,u,p)}li(d);mi(c.leftAndTop,d,u,p);d.x+=d.w;d.y+=d.h;mi(c.rightAndBottom,d,u,p);t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w};ut(c.chartArea,(e=>{const s=e.box;Object.assign(s,t.chartArea);s.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}};class xi{acquireContext(t,e){}releaseContext(t){return false}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,n){e=Math.max(0,e||t.width);s=s||t.height;return{width:e,height:Math.max(0,n?Math.floor(e/n):s)}}isAttached(t){return true}updateConfig(t){}}class yi extends xi{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=false}}const Mi="$chartjs";const vi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};const wi=t=>t===null||t==="";function ki(t,e){const s=t.style;const n=t.getAttribute("height");const i=t.getAttribute("width");t[Mi]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}};s.display=s.display||"block";s.boxSizing=s.boxSizing||"border-box";if(wi(i)){const e=tn(t,"width");if(e!==undefined){t.width=e}}if(wi(n)){if(t.style.height===""){t.height=t.width/(e||2)}else{const e=tn(t,"height");if(e!==undefined){t.height=e}}}return t}const _i=Js?{passive:true}:false;function Oi(t,e,s){if(t){t.addEventListener(e,s,_i)}}function Di(t,e,s){if(t&&t.canvas){t.canvas.removeEventListener(e,s,_i)}}function Si(t,e){const s=vi[t.type]||t.type;const{x:n,y:i}=Zs(t,e);return{type:s,chart:e,native:t,x:n!==undefined?n:null,y:i!==undefined?i:null}}function Ci(t,e){for(const s of t){if(s===e||s.contains(e)){return true}}}function ji(t,e,s){const n=t.canvas;const i=new MutationObserver((t=>{let e=false;for(const s of t){e=e||Ci(s.addedNodes,n);e=e&&!Ci(s.removedNodes,n)}if(e){s()}}));i.observe(document,{childList:true,subtree:true});return i}function Ei(t,e,s){const n=t.canvas;const i=new MutationObserver((t=>{let e=false;for(const s of t){e=e||Ci(s.removedNodes,n);e=e&&!Ci(s.addedNodes,n)}if(e){s()}}));i.observe(document,{childList:true,subtree:true});return i}const Pi=new Map;let Ai=0;function Ii(){const t=window.devicePixelRatio;if(t===Ai){return}Ai=t;Pi.forEach(((e,s)=>{if(s.currentDevicePixelRatio!==t){e()}}))}function Fi(t,e){if(!Pi.size){window.addEventListener("resize",Ii)}Pi.set(t,e)}function Ni(t){Pi.delete(t);if(!Pi.size){window.removeEventListener("resize",Ii)}}function Ri(t,e,s){const n=t.canvas;const i=n&&zs(n);if(!i){return}const o=ae(((t,e)=>{const n=i.clientWidth;s(t,e);if(n<i.clientWidth){s()}}),window);const r=new ResizeObserver((t=>{const e=t[0];const s=e.contentRect.width;const n=e.contentRect.height;if(s===0&&n===0){return}o(s,n)}));r.observe(i);Fi(t,o);return r}function Ti(t,e,s){if(s){s.disconnect()}if(e==="resize"){Ni(t)}}function Li(t,e,s){const n=t.canvas;const i=ae((e=>{if(t.ctx!==null){s(Si(e,t))}}),t);Oi(n,e,i);return i}class $i extends xi{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");if(s&&s.canvas===t){ki(t,e);return s}return null}releaseContext(t){const e=t.canvas;if(!e[Mi]){return false}const s=e[Mi].initial;["height","width"].forEach((t=>{const n=s[t];if(nt(n)){e.removeAttribute(t)}else{e.setAttribute(t,n)}}));const n=s.style||{};Object.keys(n).forEach((t=>{e.style[t]=n[t]}));e.width=e.width;delete e[Mi];return true}addEventListener(t,e,s){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={});const i={attach:ji,detach:Ei,resize:Ri};const o=i[e]||Li;n[e]=o(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={});const n=s[e];if(!n){return}const i={attach:Ti,detach:Ti,resize:Ti};const o=i[e]||Di;o(t,e,n);s[e]=undefined}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,n){return Qs(t,e,s,n)}isAttached(t){const e=t&&zs(t);return!!(e&&e.isConnected)}}function zi(t){if(!$s()||typeof OffscreenCanvas!=="undefined"&&t instanceof OffscreenCanvas){return yi}return $i}class Bi{static defaults={};static defaultRoutes=undefined;x;y;active=false;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Bt(this.x)&&Bt(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s){return this}const n={};t.forEach((t=>{n[t]=s[t]&&s[t].active()?s[t]._to:this[t]}));return n}}function Yi(t,e){const s=t.options.ticks;const n=Hi(t);const i=Math.min(s.maxTicksLimit||n,n);const o=s.major.enabled?Vi(e):[];const r=o.length;const c=o[0];const a=o[r-1];const h=[];if(r>i){Ui(e,h,o,r/i);return h}const f=Wi(o,e,i);if(r>0){let t,s;const n=r>1?Math.round((a-c)/(r-1)):null;Xi(e,h,f,nt(n)?0:c-n,c);for(t=0,s=r-1;t<s;t++){Xi(e,h,f,o[t],o[t+1])}Xi(e,h,f,a,nt(n)?e.length:a+n);return h}Xi(e,h,f);return h}function Hi(t){const e=t.options.offset;const s=t._tickSize();const n=t._length/s+(e?0:1);const i=t._maxLength/s;return Math.floor(Math.min(n,i))}function Wi(t,e,s){const n=Zi(t);const i=e.length/s;if(!n){return Math.max(i,1)}const o=zt(n);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>i){return e}}return Math.max(i,1)}function Vi(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++){if(t[s].major){e.push(s)}}return e}function Ui(t,e,s,n){let i=0;let o=s[0];let r;n=Math.ceil(n);for(r=0;r<t.length;r++){if(r===o){e.push(t[r]);i++;o=s[i*n]}}}function Xi(t,e,s,n,i){const o=at(n,0);const r=Math.min(at(i,t.length),t.length);let c=0;let a,h,f;s=Math.ceil(s);if(i){a=i-n;s=a/Math.floor(a/s)}f=o;while(f<0){c++;f=Math.round(o+c*s)}for(h=Math.max(o,0);h<r;h++){if(h===f){e.push(t[h]);c++;f=Math.round(o+c*s)}}}function Zi(t){const e=t.length;let s,n;if(e<2){return false}for(n=t[0],s=1;s<e;++s){if(t[s]-t[s-1]!==n){return false}}return n}const qi=t=>t==="left"?"right":t==="right"?"left":t;const Ki=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s;const Qi=(t,e)=>Math.min(e||t,t);function Gi(t,e){const s=[];const n=t.length/e;const i=t.length;let o=0;for(;o<i;o+=n){s.push(t[Math.floor(o)])}return s}function Ji(t,e,s){const n=t.ticks.length;const i=Math.min(e,n-1);const o=t._startPixel;const r=t._endPixel;const c=1e-6;let a=t.getPixelForTick(i);let h;if(s){if(n===1){h=Math.max(a-o,r-a)}else if(e===0){h=(t.getPixelForTick(1)-a)/2}else{h=(a-t.getPixelForTick(i-1))/2}a+=i<e?h:-h;if(a<o-c||a>r+c){return}}return a}function to(t,e){ut(t,(t=>{const s=t.gc;const n=s.length/2;let i;if(n>e){for(i=0;i<n;++i){delete t.data[s[i]]}s.splice(0,n)}}))}function eo(t){return t.drawTicks?t.tickLength:0}function so(t,e){if(!t.display){return 0}const s=rs(t.font,e);const n=os(t.padding);const i=it(t.text)?t.text.length:1;return i*s.lineHeight+n.height}function no(t,e){return hs(t,{scale:e,type:"scale"})}function io(t,e,s){return hs(t,{tick:s,index:e,type:"tick"})}function oo(t,e,s){let n=fe(t);if(s&&e!=="right"||!s&&e==="right"){n=qi(n)}return n}function ro(t,e,s,n){const{top:i,left:o,bottom:r,right:c,chart:a}=t;const{chartArea:h,scales:f}=a;let u=0;let l,d,p;const b=r-i;const m=c-o;if(t.isHorizontal()){d=ue(n,o,c);if(ot(s)){const t=Object.keys(s)[0];const n=s[t];p=f[t].getPixelForValue(n)+b-e}else if(s==="center"){p=(h.bottom+h.top)/2+b-e}else{p=Ki(t,s,e)}l=c-o}else{if(ot(s)){const t=Object.keys(s)[0];const n=s[t];d=f[t].getPixelForValue(n)-m+e}else if(s==="center"){d=(h.left+h.right)/2-m+e}else{d=Ki(t,s,e)}p=ue(n,r,i);u=s==="left"?-It:It}return{titleX:d,titleY:p,maxWidth:l,rotation:u}}class co extends Bi{constructor(t){super();this.id=t.id;this.type=t.type;this.options=undefined;this.ctx=t.ctx;this.chart=t.chart;this.top=undefined;this.bottom=undefined;this.left=undefined;this.right=undefined;this.width=undefined;this.height=undefined;this._margins={left:0,right:0,top:0,bottom:0};this.maxWidth=undefined;this.maxHeight=undefined;this.paddingTop=undefined;this.paddingBottom=undefined;this.paddingLeft=undefined;this.paddingRight=undefined;this.axis=undefined;this.labelRotation=undefined;this.min=undefined;this.max=undefined;this._range=undefined;this.ticks=[];this._gridLineItems=null;this._labelItems=null;this._labelSizes=null;this._length=0;this._maxLength=0;this._longestTextCache={};this._startPixel=undefined;this._endPixel=undefined;this._reversePixels=false;this._userMax=undefined;this._userMin=undefined;this._suggestedMax=undefined;this._suggestedMin=undefined;this._ticksLength=0;this._borderValue=0;this._cache={};this._dataLimitsCached=false;this.$context=undefined}init(t){this.options=t.setContext(this.getContext());this.axis=t.axis;this._userMin=this.parse(t.min);this._userMax=this.parse(t.max);this._suggestedMin=this.parse(t.suggestedMin);this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:n}=this;t=ct(t,Number.POSITIVE_INFINITY);e=ct(e,Number.NEGATIVE_INFINITY);s=ct(s,Number.POSITIVE_INFINITY);n=ct(n,Number.NEGATIVE_INFINITY);return{min:ct(t,s),max:ct(e,n),minDefined:rt(t),maxDefined:rt(e)}}getMinMax(t){let{min:e,max:s,minDefined:n,maxDefined:i}=this.getUserBounds();let o;if(n&&i){return{min:e,max:s}}const r=this.getMatchingVisibleMetas();for(let c=0,a=r.length;c<a;++c){o=r[c].controller.getMinMax(this,t);if(!n){e=Math.min(e,o.min)}if(!i){s=Math.max(s,o.max)}}e=i&&e>s?s:e;s=n&&e>s?e:s;return{min:ct(e,ct(s,e)),max:ct(s,ct(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){const e=this._labelItems||(this._labelItems=this._computeLabelItems(t));return e}beforeLayout(){this._cache={};this._dataLimitsCached=false}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:n,grace:i,ticks:o}=this.options;const r=o.sampleSize;this.beforeUpdate();this.maxWidth=t;this.maxHeight=e;this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s);this.ticks=null;this._labelSizes=null;this._gridLineItems=null;this._labelItems=null;this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom;if(!this._dataLimitsCached){this.beforeDataLimits();this.determineDataLimits();this.afterDataLimits();this._range=as(this,i,n);this._dataLimitsCached=true}this.beforeBuildTicks();this.ticks=this.buildTicks()||[];this.afterBuildTicks();const c=r<this.ticks.length;this._convertTicksToLabels(c?Gi(this.ticks,r):this.ticks);this.configure();this.beforeCalculateLabelRotation();this.calculateLabelRotation();this.afterCalculateLabelRotation();if(o.display&&(o.autoSkip||o.source==="auto")){this.ticks=Yi(this,this.ticks);this._labelSizes=null;this.afterAutoSkip()}if(c){this._convertTicksToLabels(this.ticks)}this.beforeFit();this.fit();this.afterFit();this.afterUpdate()}configure(){let t=this.options.reverse;let e,s;if(this.isHorizontal()){e=this.left;s=this.right}else{e=this.top;s=this.bottom;t=!t}this._startPixel=e;this._endPixel=s;this._reversePixels=t;this._length=s-e;this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){if(this.isHorizontal()){this.width=this.maxWidth;this.left=0;this.right=this.width}else{this.height=this.maxHeight;this.top=0;this.bottom=this.height}this.paddingLeft=0;this.paddingTop=0;this.paddingRight=0;this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext());ft(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,n,i;for(s=0,n=t.length;s<n;s++){i=t[s];i.label=ft(e.callback,[i.value,s,t],this)}}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options;const e=t.ticks;const s=Qi(this.ticks.length,t.ticks.maxTicksLimit);const n=e.minRotation||0;const i=e.maxRotation;let o=n;let r,c,a;if(!this._isVisible()||!e.display||n>=i||s<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes();const f=h.widest.width;const u=h.highest.height;const l=Gt(this.chart.width-f,0,this.maxWidth);r=t.offset?this.maxWidth/s:l/(s-1);if(f+6>r){r=l/(s-(t.offset?.5:1));c=this.maxHeight-eo(t.grid)-e.padding-so(t.title,this.chart.options.font);a=Math.sqrt(f*f+u*u);o=Vt(Math.min(Math.asin(Gt((h.highest.height+6)/r,-1,1)),Math.asin(Gt(c/a,-1,1))-Math.asin(Gt(u/a,-1,1))));o=Math.max(n,Math.min(i,o))}this.labelRotation=o}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){const t={width:0,height:0};const{chart:e,options:{ticks:s,title:n,grid:i}}=this;const o=this._isVisible();const r=this.isHorizontal();if(o){const o=so(n,e.options.font);if(r){t.width=this.maxWidth;t.height=eo(i)+o}else{t.height=this.maxHeight;t.width=eo(i)+o}if(s.display&&this.ticks.length){const{first:e,last:n,widest:i,highest:o}=this._getLabelSizes();const c=s.padding*2;const a=Wt(this.labelRotation);const h=Math.cos(a);const f=Math.sin(a);if(r){const e=s.mirror?0:f*i.width+h*o.height;t.height=Math.min(this.maxHeight,t.height+e+c)}else{const e=s.mirror?0:h*i.width+f*o.height;t.width=Math.min(this.maxWidth,t.width+e+c)}this._calculatePadding(e,n,f,h)}}this._handleMargins();if(r){this.width=this._length=e.width-this._margins.left-this._margins.right;this.height=t.height}else{this.width=t.width;this.height=this._length=e.height-this._margins.top-this._margins.bottom}}_calculatePadding(t,e,s,n){const{ticks:{align:i,padding:o},position:r}=this.options;const c=this.labelRotation!==0;const a=r!=="top"&&this.axis==="x";if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left;const h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0;let u=0;if(c){if(a){f=n*t.width;u=s*e.height}else{f=s*t.height;u=n*e.width}}else if(i==="start"){u=e.width}else if(i==="end"){f=t.width}else if(i!=="inner"){f=t.width/2;u=e.width/2}this.paddingLeft=Math.max((f-r+o)*this.width/(this.width-r),0);this.paddingRight=Math.max((u-h+o)*this.width/(this.width-h),0)}else{let s=e.height/2;let n=t.height/2;if(i==="start"){s=0;n=t.height}else if(i==="end"){s=e.height;n=0}this.paddingTop=s+o;this.paddingBottom=n+o}}_handleMargins(){if(this._margins){this._margins.left=Math.max(this.paddingLeft,this._margins.left);this._margins.top=Math.max(this.paddingTop,this._margins.top);this._margins.right=Math.max(this.paddingRight,this._margins.right);this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom)}}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion();this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++){if(nt(t[e].label)){t.splice(e,1);s--;e--}}this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;if(e<s.length){s=Gi(s,e)}this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:n,_longestTextCache:i}=this;const o=[];const r=[];const c=Math.floor(e/Qi(e,s));let a=0;let h=0;let f,u,l,d,p,b,m,g,x,y,M;for(f=0;f<e;f+=c){d=t[f].label;p=this._resolveTickFontOptions(f);n.font=b=p.string;m=i[b]=i[b]||{data:{},gc:[]};g=p.lineHeight;x=y=0;if(!nt(d)&&!it(d)){x=$e(n,m.data,m.gc,x,d);y=g}else if(it(d)){for(u=0,l=d.length;u<l;++u){M=d[u];if(!nt(M)&&!it(M)){x=$e(n,m.data,m.gc,x,M);y+=g}}}o.push(x);r.push(y);a=Math.max(x,a);h=Math.max(y,h)}to(i,e);const v=o.indexOf(a);const w=r.indexOf(h);const k=t=>({width:o[t]||0,height:r[t]||0});return{first:k(0),last:k(e-1),widest:k(v),highest:k(w),widths:o,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;if(t<0||t>e.length-1){return null}return this.getPixelForValue(e[t].value)}getPixelForDecimal(t){if(this._reversePixels){t=1-t}const e=this._startPixel+t*this._length;return Jt(this._alignToPixels?ze(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=io(this.getContext(),t,s))}return this.$context||(this.$context=no(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks;const e=Wt(this.labelRotation);const s=Math.abs(Math.cos(e));const n=Math.abs(Math.sin(e));const i=this._getLabelSizes();const o=t.autoSkipPadding||0;const r=i?i.widest.width+o:0;const c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>r*n?r/s:c/n:c*n<r*s?c/s:r/n}_isVisible(){const t=this.options.display;if(t!=="auto"){return!!t}return this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis;const s=this.chart;const n=this.options;const{grid:i,position:o,border:r}=n;const c=i.offset;const a=this.isHorizontal();const h=this.ticks;const f=h.length+(c?1:0);const u=eo(i);const l=[];const d=r.setContext(this.getContext());const p=d.display?d.width:0;const b=p/2;const m=function(t){return ze(s,t,p)};let g,x,y,M;let v,w,k,_,O,D,S,C;if(o==="top"){g=m(this.bottom);w=this.bottom-u;_=g-b;D=m(t.top)+b;C=t.bottom}else if(o==="bottom"){g=m(this.top);D=t.top;C=m(t.bottom)-b;w=g+b;_=this.top+u}else if(o==="left"){g=m(this.right);v=this.right-u;k=g-b;O=m(t.left)+b;S=t.right}else if(o==="right"){g=m(this.left);O=t.left;S=m(t.right)-b;v=g+b;k=this.left+u}else if(e==="x"){if(o==="center"){g=m((t.top+t.bottom)/2+.5)}else if(ot(o)){const t=Object.keys(o)[0];const e=o[t];g=m(this.chart.scales[t].getPixelForValue(e))}D=t.top;C=t.bottom;w=g+b;_=w+u}else if(e==="y"){if(o==="center"){g=m((t.left+t.right)/2)}else if(ot(o)){const t=Object.keys(o)[0];const e=o[t];g=m(this.chart.scales[t].getPixelForValue(e))}v=g-b;k=v-u;O=t.left;S=t.right}const j=at(n.ticks.maxTicksLimit,f);const E=Math.max(1,Math.ceil(f/j));for(x=0;x<f;x+=E){const t=this.getContext(x);const e=i.setContext(t);const n=r.setContext(t);const o=e.lineWidth;const h=e.color;const f=n.dash||[];const u=n.dashOffset;const d=e.tickWidth;const p=e.tickColor;const b=e.tickBorderDash||[];const m=e.tickBorderDashOffset;y=Ji(this,x,c);if(y===undefined){continue}M=ze(s,y,o);if(a){v=k=O=S=M}else{w=_=D=C=M}l.push({tx1:v,ty1:w,tx2:k,ty2:_,x1:O,y1:D,x2:S,y2:C,width:o,color:h,borderDash:f,borderDashOffset:u,tickWidth:d,tickColor:p,tickBorderDash:b,tickBorderDashOffset:m})}this._ticksLength=f;this._borderValue=g;return l}_computeLabelItems(t){const e=this.axis;const s=this.options;const{position:n,ticks:i}=s;const o=this.isHorizontal();const r=this.ticks;const{align:c,crossAlign:a,padding:h,mirror:f}=i;const u=eo(s.grid);const l=u+h;const d=f?-h:l;const p=-Wt(this.labelRotation);const b=[];let m,g,x,y,M,v,w,k,_,O,D,S;let C="middle";if(n==="top"){v=this.bottom-d;w=this._getXAxisLabelAlignment()}else if(n==="bottom"){v=this.top+d;w=this._getXAxisLabelAlignment()}else if(n==="left"){const t=this._getYAxisLabelAlignment(u);w=t.textAlign;M=t.x}else if(n==="right"){const t=this._getYAxisLabelAlignment(u);w=t.textAlign;M=t.x}else if(e==="x"){if(n==="center"){v=(t.top+t.bottom)/2+l}else if(ot(n)){const t=Object.keys(n)[0];const e=n[t];v=this.chart.scales[t].getPixelForValue(e)+l}w=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center"){M=(t.left+t.right)/2-l}else if(ot(n)){const t=Object.keys(n)[0];const e=n[t];M=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(u).textAlign}if(e==="y"){if(c==="start"){C="top"}else if(c==="end"){C="bottom"}}const j=this._getLabelSizes();for(m=0,g=r.length;m<g;++m){x=r[m];y=x.label;const t=i.setContext(this.getContext(m));k=this.getPixelForTick(m)+i.labelOffset;_=this._resolveTickFontOptions(m);O=_.lineHeight;D=it(y)?y.length:1;const e=D/2;const s=t.color;const c=t.textStrokeColor;const h=t.textStrokeWidth;let u=w;if(o){M=k;if(w==="inner"){if(m===g-1){u=!this.options.reverse?"right":"left"}else if(m===0){u=!this.options.reverse?"left":"right"}else{u="center"}}if(n==="top"){if(a==="near"||p!==0){S=-D*O+O/2}else if(a==="center"){S=-j.highest.height/2-e*O+O}else{S=-j.highest.height+O/2}}else{if(a==="near"||p!==0){S=O/2}else if(a==="center"){S=j.highest.height/2-e*O}else{S=j.highest.height-D*O}}if(f){S*=-1}if(p!==0&&!t.showLabelBackdrop){M+=O/2*Math.sin(p)}}else{v=k;S=(1-D)*O/2}let l;if(t.showLabelBackdrop){const e=os(t.backdropPadding);const s=j.heights[m];const n=j.widths[m];let i=S-e.top;let o=0-e.left;switch(C){case"middle":i-=s/2;break;case"bottom":i-=s;break}switch(w){case"center":o-=n/2;break;case"right":o-=n;break;case"inner":if(m===g-1){o-=n}else if(m>0){o-=n/2}break}l={left:o,top:i,width:n+e.width,height:s+e.height,color:t.backdropColor}}b.push({label:y,font:_,textOffset:S,options:{rotation:p,color:s,strokeColor:c,strokeWidth:h,textAlign:u,textBaseline:C,translation:[M,v],backdrop:l}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;const s=-Wt(this.labelRotation);if(s){return t==="top"?"left":"right"}let n="center";if(e.align==="start"){n="left"}else if(e.align==="end"){n="right"}else if(e.align==="inner"){n="inner"}return n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:n,padding:i}}=this.options;const o=this._getLabelSizes();const r=t+i;const c=o.widest.width;let a;let h;if(e==="left"){if(n){h=this.right+i;if(s==="near"){a="left"}else if(s==="center"){a="center";h+=c/2}else{a="right";h+=c}}else{h=this.right-r;if(s==="near"){a="right"}else if(s==="center"){a="center";h-=c/2}else{a="left";h=this.left}}}else if(e==="right"){if(n){h=this.left+i;if(s==="near"){a="right"}else if(s==="center"){a="center";h-=c/2}else{a="left";h-=c}}else{h=this.left+r;if(s==="near"){a="left"}else if(s==="center"){a="center";h+=c/2}else{a="right";h=this.right}}}else{a="right"}return{textAlign:a,x:h}}_computeLabelArea(){if(this.options.ticks.mirror){return}const t=this.chart;const e=this.options.position;if(e==="left"||e==="right"){return{top:0,left:this.left,bottom:t.height,right:this.right}}if(e==="top"||e==="bottom"){return{top:this.top,left:0,bottom:this.bottom,right:t.width}}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:n,width:i,height:o}=this;if(e){t.save();t.fillStyle=e;t.fillRect(s,n,i,o);t.restore()}}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display){return 0}const s=this.ticks;const n=s.findIndex((e=>e.value===t));if(n>=0){const t=e.setContext(this.getContext(n));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid;const s=this.ctx;const n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const r=(t,e,n)=>{if(!n.width||!n.color){return}s.save();s.lineWidth=n.width;s.strokeStyle=n.color;s.setLineDash(n.borderDash||[]);s.lineDashOffset=n.borderDashOffset;s.beginPath();s.moveTo(t.x,t.y);s.lineTo(e.x,e.y);s.stroke();s.restore()};if(e.display){for(i=0,o=n.length;i<o;++i){const t=n[i];if(e.drawOnChartArea){r({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t)}if(e.drawTicks){r({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:n}}=this;const i=s.setContext(this.getContext());const o=s.display?i.width:0;if(!o){return}const r=n.setContext(this.getContext(0)).lineWidth;const c=this._borderValue;let a,h,f,u;if(this.isHorizontal()){a=ze(t,this.left,o)-o/2;h=ze(t,this.right,r)+r/2;f=u=c}else{f=ze(t,this.top,o)-o/2;u=ze(t,this.bottom,r)+r/2;a=h=c}e.save();e.lineWidth=i.width;e.strokeStyle=i.color;e.beginPath();e.moveTo(a,f);e.lineTo(h,u);e.stroke();e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display){return}const s=this.ctx;const n=this._computeLabelArea();if(n){Ve(s,n)}const i=this.getLabelItems(t);for(const t of i){const e=t.options;const n=t.font;const i=t.label;const o=t.textOffset;Ge(s,i,0,o,n,e)}if(n){Ue(s)}}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:n}}=this;if(!s.display){return}const i=rs(s.font);const o=os(s.padding);const r=s.align;let c=i.lineHeight/2;if(e==="bottom"||e==="center"||ot(e)){c+=o.bottom;if(it(s.text)){c+=i.lineHeight*(s.text.length-1)}}else{c+=o.top}const{titleX:a,titleY:h,maxWidth:f,rotation:u}=ro(this,c,e,r);Ge(t,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:u,textAlign:oo(r,e,n),textBaseline:"middle",translation:[a,h]})}draw(t){if(!this._isVisible()){return}this.drawBackground();this.drawGrid(t);this.drawBorder();this.drawTitle();this.drawLabels(t)}_layers(){const t=this.options;const e=t.ticks&&t.ticks.z||0;const s=at(t.grid&&t.grid.z,-1);const n=at(t.border&&t.border.z,0);if(!this._isVisible()||this.draw!==co.prototype.draw){return[{z:e,draw:t=>{this.draw(t)}}]}return[{z:s,draw:t=>{this.drawBackground();this.drawGrid(t);this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas();const s=this.axis+"AxisID";const n=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];if(o[s]===this.id&&(!t||o.type===t)){n.push(o)}}return n}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return rs(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ao{constructor(t,e,s){this.type=t;this.scope=e;this.override=s;this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;if(uo(e)){s=this.register(e)}const n=this.items;const i=t.id;const o=this.scope+"."+i;if(!i){throw new Error("class does not have id: "+t)}if(i in n){return o}n[i]=t;ho(t,o,s);if(this.override){Te.override(t.id,t.overrides)}return o}get(t){return this.items[t]}unregister(t){const e=this.items;const s=t.id;const n=this.scope;if(s in e){delete e[s]}if(n&&s in Te[n]){delete Te[n][s];if(this.override){delete Ae[s]}}}}function ho(t,e,s){const n=mt(Object.create(null),[s?Te.get(s):{},Te.get(e),t.defaults]);Te.set(e,n);if(t.defaultRoutes){fo(e,t.defaultRoutes)}if(t.descriptors){Te.describe(e,t.descriptors)}}function fo(t,e){Object.keys(e).forEach((s=>{const n=s.split(".");const i=n.pop();const o=[t].concat(n).join(".");const r=e[s].split(".");const c=r.pop();const a=r.join(".");Te.route(o,i,a,c)}))}function uo(t){return"id"in t&&"defaults"in t}class lo{constructor(){this.controllers=new ao(Wn,"datasets",true);this.elements=new ao(Bi,"elements");this.plugins=new ao(Object,"plugins");this.scales=new ao(co,"scales");this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach((e=>{const n=s||this._getRegistryForType(e);if(s||n.isForType(e)||n===this.plugins&&e.id){this._exec(t,n,e)}else{ut(e,(e=>{const n=s||this._getRegistryForType(e);this._exec(t,n,e)}))}}))}_exec(t,e,s){const n=kt(t);ft(s["before"+n],[],s);e[t](s);ft(s["after"+n],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t)){return s}}return this.plugins}_get(t,e,s){const n=e.get(t);if(n===undefined){throw new Error('"'+t+'" is not a registered '+s+".")}return n}}var po=new lo;class bo{constructor(){this._init=[]}notify(t,e,s,n){if(e==="beforeInit"){this._init=this._createDescriptors(t,true);this._notify(this._init,t,"install")}const i=n?this._descriptors(t).filter(n):this._descriptors(t);const o=this._notify(i,t,e,s);if(e==="afterDestroy"){this._notify(i,t,"stop");this._notify(this._init,t,"uninstall")}return o}_notify(t,e,s,n){n=n||{};for(const i of t){const t=i.plugin;const o=t[s];const r=[e,n,i.options];if(ft(o,r,t)===false&&n.cancelable){return false}}return true}invalidate(){if(!nt(this._cache)){this._oldCache=this._cache;this._cache=undefined}}_descriptors(t){if(this._cache){return this._cache}const e=this._cache=this._createDescriptors(t);this._notifyStateChanges(t);return e}_createDescriptors(t,e){const s=t&&t.config;const n=at(s.options&&s.options.plugins,{});const i=mo(s);return n===false&&!e?[]:xo(t,i,n,e)}_notifyStateChanges(t){const e=this._oldCache||[];const s=this._cache;const n=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(n(e,s),t,"stop");this._notify(n(s,e),t,"start")}}function mo(t){const e={};const s=[];const n=Object.keys(po.plugins.items);for(let t=0;t<n.length;t++){s.push(po.getPlugin(n[t]))}const i=t.plugins||[];for(let t=0;t<i.length;t++){const n=i[t];if(s.indexOf(n)===-1){s.push(n);e[n.id]=true}}return{plugins:s,localIds:e}}function go(t,e){if(!e&&t===false){return null}if(t===true){return{}}return t}function xo(t,{plugins:e,localIds:s},n,i){const o=[];const r=t.getContext();for(const c of e){const e=c.id;const a=go(n[e],i);if(a===null){continue}o.push({plugin:c,options:yo(t.config,{plugin:c,local:s[e]},a,r)})}return o}function yo(t,{plugin:e,local:s},n,i){const o=t.pluginScopeKeys(e);const r=t.getOptionScopes(n,o);if(s&&e.defaults){r.push(e.defaults)}return t.createResolver(r,i,[""],{scriptable:false,indexable:false,allKeys:true})}function Mo(t,e){const s=Te.datasets[t]||{};const n=(e.datasets||{})[t]||{};return n.indexAxis||e.indexAxis||s.indexAxis||"x"}function vo(t,e){let s=t;if(t==="_index_"){s=e}else if(t==="_value_"){s=e==="x"?"y":"x"}return s}function wo(t,e){return t===e?"_index_":"_value_"}function ko(t){if(t==="x"||t==="y"||t==="r"){return t}}function _o(t){if(t==="top"||t==="bottom"){return"x"}if(t==="left"||t==="right"){return"y"}}function Oo(t,...e){if(ko(t)){return t}for(const s of e){const e=s.axis||_o(s.position)||t.length>1&&ko(t[0].toLowerCase());if(e){return e}}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Do(t,e,s){if(s[e+"AxisID"]===t){return{axis:e}}}function So(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(s.length){return Do(t,"x",s[0])||Do(t,"y",s[0])}}return{}}function Co(t,e){const s=Ae[t.type]||{scales:{}};const n=e.scales||{};const i=Mo(t.type,e);const o=Object.create(null);Object.keys(n).forEach((e=>{const r=n[e];if(!ot(r)){return console.error(`Invalid scale configuration for scale: ${e}`)}if(r._proxy){return console.warn(`Ignoring resolver passed as options for scale: ${e}`)}const c=Oo(e,r,So(e,t),Te.scales[r.type]);const a=wo(c,i);const h=s.scales||{};o[e]=gt(Object.create(null),[{axis:c},r,h[c],h[a]])}));t.data.datasets.forEach((s=>{const i=s.type||t.type;const r=s.indexAxis||Mo(i,e);const c=Ae[i]||{};const a=c.scales||{};Object.keys(a).forEach((t=>{const e=vo(t,r);const i=s[e+"AxisID"]||e;o[i]=o[i]||Object.create(null);gt(o[i],[{axis:e},n[i],a[t]])}))}));Object.keys(o).forEach((t=>{const e=o[t];gt(e,[Te.scales[e.type],Te.scale])}));return o}function jo(t){const e=t.options||(t.options={});e.plugins=at(e.plugins,{});e.scales=Co(t,e)}function Eo(t){t=t||{};t.datasets=t.datasets||[];t.labels=t.labels||[];return t}function Po(t){t=t||{};t.data=Eo(t.data);jo(t);return t}const Ao=new Map;const Io=new Set;function Fo(t,e){let s=Ao.get(t);if(!s){s=e();Ao.set(t,s);Io.add(s)}return s}const No=(t,e,s)=>{const n=wt(e,s);if(n!==undefined){t.add(n)}};class Ro{constructor(t){this._config=Po(t);this._scopeCache=new Map;this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Eo(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache();jo(t)}clearCache(){this._scopeCache.clear();this._resolverCache.clear()}datasetScopeKeys(t){return Fo(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return Fo(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return Fo(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;const s=this.type;return Fo(`${s}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const s=this._scopeCache;let n=s.get(t);if(!n||e){n=new Map;s.set(t,n)}return n}getOptionScopes(t,e,s){const{options:n,type:i}=this;const o=this._cachedScopes(t,s);const r=o.get(e);if(r){return r}const c=new Set;e.forEach((e=>{if(t){c.add(t);e.forEach((e=>No(c,t,e)))}e.forEach((t=>No(c,n,t)));e.forEach((t=>No(c,Ae[i]||{},t)));e.forEach((t=>No(c,Te,t)));e.forEach((t=>No(c,Ie,t)))}));const a=Array.from(c);if(a.length===0){a.push(Object.create(null))}if(Io.has(e)){o.set(e,a)}return a}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ae[e]||{},Te.datasets[e]||{},{type:e},Te,Ie]}resolveNamedOptions(t,e,s,n=[""]){const i={$shared:true};const{resolver:o,subPrefixes:r}=To(this._resolverCache,t,n);let c=o;if($o(o,e)){i.$shared=false;s=Ot(s)?s():s;const e=this.createResolver(t,s,r);c=us(o,s,e)}for(const t of e){i[t]=c[t]}return i}createResolver(t,e,s=[""],n){const{resolver:i}=To(this._resolverCache,t,s);return ot(e)?us(i,e,undefined,n):i}}function To(t,e,s){let n=t.get(e);if(!n){n=new Map;t.set(e,n)}const i=s.join();let o=n.get(i);if(!o){const t=fs(e,s);o={resolver:t,subPrefixes:s.filter((t=>!t.toLowerCase().includes("hover")))};n.set(i,o)}return o}const Lo=t=>ot(t)&&Object.getOwnPropertyNames(t).some((e=>Ot(t[e])));function $o(t,e){const{isScriptable:s,isIndexable:n}=ls(t);for(const i of e){const e=s(i);const o=n(i);const r=(o||e)&&t[i];if(e&&(Ot(r)||Lo(r))||o&&it(r)){return true}}return false}var zo="4.4.7";const Bo=["top","bottom","left","right","chartArea"];function Yo(t,e){return t==="top"||t==="bottom"||Bo.indexOf(t)===-1&&e==="x"}function Ho(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function Wo(t){const e=t.chart;const s=e.options.animation;e.notifyPlugins("afterRender");ft(s&&s.onComplete,[t],e)}function Vo(t){const e=t.chart;const s=e.options.animation;ft(s&&s.onProgress,[t],e)}function Uo(t){if($s()&&typeof t==="string"){t=document.getElementById(t)}else if(t&&t.length){t=t[0]}if(t&&t.canvas){t=t.canvas}return t}const Xo={};const Zo=t=>{const e=Uo(t);return Object.values(Xo).filter((t=>t.canvas===e)).pop()};function qo(t,e,s){const n=Object.keys(t);for(const i of n){const n=+i;if(n>=e){const o=t[i];delete t[i];if(s>0||n>e){t[n+s]=o}}}}function Ko(t,e,s,n){if(!s||t.type==="mouseout"){return null}if(n){return e}return t}function Qo(t,e,s){return t.options.clip?t[s]:e[s]}function Go(t,e){const{xScale:s,yScale:n}=t;if(s&&n){return{left:Qo(s,e,"left"),right:Qo(s,e,"right"),top:Qo(n,e,"top"),bottom:Qo(n,e,"bottom")}}return e}class Jo{static defaults=Te;static instances=Xo;static overrides=Ae;static registry=po;static version=zo;static getChart=Zo;static register(...t){po.add(...t);tr()}static unregister(...t){po.remove(...t);tr()}constructor(t,e){const s=this.config=new Ro(e);const n=Uo(t);const i=Zo(n);if(i){throw new Error("Canvas is already in use. Chart with ID '"+i.id+"'"+" must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.")}const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||zi(n));this.platform.updateConfig(s);const r=this.platform.acquireContext(n,o.aspectRatio);const c=r&&r.canvas;const a=c&&c.height;const h=c&&c.width;this.id=st();this.ctx=r;this.canvas=c;this.width=h;this.height=a;this._options=o;this._aspectRatio=this.aspectRatio;this._layers=[];this._metasets=[];this._stacks=undefined;this.boxes=[];this.currentDevicePixelRatio=undefined;this.chartArea=undefined;this._active=[];this._lastEvent=undefined;this._listeners={};this._responsiveListeners=undefined;this._sortedMetasets=[];this.scales={};this._plugins=new bo;this.$proxies={};this._hiddenIndices={};this.attached=false;this._animationsDisabled=undefined;this.$context=undefined;this._doResize=he((t=>this.update(t)),o.resizeDelay||0);this._dataChanges=[];Xo[this.id]=this;if(!r||!c){console.error("Failed to create chart: can't acquire context from the given item");return}xn.listen(this,"complete",Wo);xn.listen(this,"progress",Vo);this._initialize();if(this.attached){this.update()}}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:n,_aspectRatio:i}=this;if(!nt(t)){return t}if(e&&i){return i}return n?s/n:null}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return po}_initialize(){this.notifyPlugins("beforeInit");if(this.options.responsive){this.resize()}else{Gs(this,this.options.devicePixelRatio)}this.bindEvents();this.notifyPlugins("afterInit");return this}clear(){Be(this.canvas,this.ctx);return this}stop(){xn.stop(this);return this}resize(t,e){if(!xn.running(this)){this._resize(t,e)}else{this._resizeBeforeDraw={width:t,height:e}}}_resize(t,e){const s=this.options;const n=this.canvas;const i=s.maintainAspectRatio&&this.aspectRatio;const o=this.platform.getMaximumSize(n,t,e,i);const r=s.devicePixelRatio||this.platform.getDevicePixelRatio();const c=this.width?"resize":"attach";this.width=o.width;this.height=o.height;this._aspectRatio=this.aspectRatio;if(!Gs(this,r,true)){return}this.notifyPlugins("resize",{size:o});ft(s.onResize,[this,o],this);if(this.attached){if(this._doResize(c)){this.render()}}}ensureScalesHaveIDs(){const t=this.options;const e=t.scales||{};ut(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options;const e=t.scales;const s=this.scales;const n=Object.keys(s).reduce(((t,e)=>{t[e]=false;return t}),{});let i=[];if(e){i=i.concat(Object.keys(e).map((t=>{const s=e[t];const n=Oo(t,s);const i=n==="r";const o=n==="x";return{options:s,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))}ut(i,(e=>{const i=e.options;const o=i.id;const r=Oo(o,i);const c=at(i.type,e.dtype);if(i.position===undefined||Yo(i.position,r)!==Yo(e.dposition)){i.position=e.dposition}n[o]=true;let a=null;if(o in s&&s[o].type===c){a=s[o]}else{const t=po.getScale(c);a=new t({id:o,type:c,ctx:this.ctx,chart:this});s[a.id]=a}a.init(i,t)}));ut(n,((t,e)=>{if(!t){delete s[e]}}));ut(s,(t=>{gi.configure(this,t,t.options);gi.addBox(this,t)}))}_updateMetasets(){const t=this._metasets;const e=this.data.datasets.length;const s=t.length;t.sort(((t,e)=>t.index-e.index));if(s>e){for(let t=e;t<s;++t){this._destroyDatasetMeta(t)}t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Ho("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;if(t.length>e.length){delete this._stacks}t.forEach(((t,s)=>{if(e.filter((e=>e===t._dataset)).length===0){this._destroyDatasetMeta(s)}}))}buildOrUpdateControllers(){const t=[];const e=this.data.datasets;let s,n;this._removeUnreferencedMetasets();for(s=0,n=e.length;s<n;s++){const n=e[s];let i=this.getDatasetMeta(s);const o=n.type||this.config.type;if(i.type&&i.type!==o){this._destroyDatasetMeta(s);i=this.getDatasetMeta(s)}i.type=o;i.indexAxis=n.indexAxis||Mo(o,this.options);i.order=n.order||0;i.index=s;i.label=""+n.label;i.visible=this.isDatasetVisible(s);if(i.controller){i.controller.updateIndex(s);i.controller.linkScales()}else{const e=po.getController(o);const{datasetElementType:n,dataElementType:r}=Te.datasets[o];Object.assign(e,{dataElementType:po.getElement(r),datasetElementType:n&&po.getElement(n)});i.controller=new e(this,s);t.push(i.controller)}}this._updateMetasets();return t}_resetElements(){ut(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements();this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext());const n=this._animationsDisabled=!s.animation;this._updateScales();this._checkEventBindings();this._updateHiddenIndices();this._plugins.invalidate();if(this.notifyPlugins("beforeUpdate",{mode:t,cancelable:true})===false){return}const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t);const s=!n&&i.indexOf(e)===-1;e.buildOrUpdateElements(s);o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0;this._updateLayout(o);if(!n){ut(i,(t=>{t.reset()}))}this._updateDatasets(t);this.notifyPlugins("afterUpdate",{mode:t});this._layers.sort(Ho("z","_idx"));const{_active:r,_lastEvent:c}=this;if(c){this._eventHandler(c,true)}else if(r.length){this._updateHoverStyles(r,r,true)}this.render()}_updateScales(){ut(this.scales,(t=>{gi.removeBox(this,t)}));this.ensureScalesHaveIDs();this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options;const e=new Set(Object.keys(this._listeners));const s=new Set(t.events);if(!Dt(e,s)||!!this._responsiveListeners!==t.responsive){this.unbindEvents();this.bindEvents()}}_updateHiddenIndices(){const{_hiddenIndices:t}=this;const e=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:i}of e){const e=s==="_removeElements"?-i:i;qo(t,n,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length){return}this._dataChanges=[];const e=this.data.datasets.length;const s=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(","))));const n=s(0);for(let t=1;t<e;t++){if(!Dt(n,s(t))){return}}return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:true})===false){return}gi.update(this,this.width,this.height,t);const e=this.chartArea;const s=e.width<=0||e.height<=0;this._layers=[];ut(this.boxes,(t=>{if(s&&t.position==="chartArea"){return}if(t.configure){t.configure()}this._layers.push(...t._layers())}),this);this._layers.forEach(((t,e)=>{t._idx=e}));this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:true})===false){return}for(let t=0,e=this.data.datasets.length;t<e;++t){this.getDatasetMeta(t).controller.configure()}for(let e=0,s=this.data.datasets.length;e<s;++e){this._updateDataset(e,Ot(t)?t({datasetIndex:e}):t)}this.notifyPlugins("afterDatasetsUpdate",{mode:t})}_updateDataset(t,e){const s=this.getDatasetMeta(t);const n={meta:s,index:t,mode:e,cancelable:true};if(this.notifyPlugins("beforeDatasetUpdate",n)===false){return}s.controller._update(e);n.cancelable=false;this.notifyPlugins("afterDatasetUpdate",n)}render(){if(this.notifyPlugins("beforeRender",{cancelable:true})===false){return}if(xn.has(this)){if(this.attached&&!xn.running(this)){xn.start(this)}}else{this.draw();Wo({chart:this})}}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null;this._resize(t,e)}this.clear();if(this.width<=0||this.height<=0){return}if(this.notifyPlugins("beforeDraw",{cancelable:true})===false){return}const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t){e[t].draw(this.chartArea)}this._drawDatasets();for(;t<e.length;++t){e[t].draw(this.chartArea)}this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets;const s=[];let n,i;for(n=0,i=e.length;n<i;++n){const i=e[n];if(!t||i.visible){s.push(i)}}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(true)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:true})===false){return}const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e){this._drawDataset(t[e])}this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx;const s=t._clip;const n=!s.disabled;const i=Go(t,this.chartArea);const o={meta:t,index:t.index,cancelable:true};if(this.notifyPlugins("beforeDatasetDraw",o)===false){return}if(n){Ve(e,{left:s.left===false?0:i.left-s.left,right:s.right===false?this.width:i.right+s.right,top:s.top===false?0:i.top-s.top,bottom:s.bottom===false?this.height:i.bottom+s.bottom})}t.controller.draw();if(n){Ue(e)}o.cancelable=false;this.notifyPlugins("afterDatasetDraw",o)}isPointInArea(t){return We(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,n){const i=ti.modes[e];if(typeof i==="function"){return i(this,t,s,n)}return[]}getDatasetMeta(t){const e=this.data.datasets[t];const s=this._metasets;let n=s.filter((t=>t&&t._dataset===e)).pop();if(!n){n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:false};s.push(n)}return n}getContext(){return this.$context||(this.$context=hs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e){return false}const s=this.getDatasetMeta(t);return typeof s.hidden==="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const n=s?"show":"hide";const i=this.getDatasetMeta(t);const o=i.controller._resolveAnimations(undefined,n);if(_t(e)){i.data[e].hidden=!s;this.update()}else{this.setDatasetVisibility(t,s);o.update(i,{visible:s});this.update((e=>e.datasetIndex===t?n:undefined))}}hide(t,e){this._updateVisibility(t,e,false)}show(t,e){this._updateVisibility(t,e,true)}_destroyDatasetMeta(t){const e=this._metasets[t];if(e&&e.controller){e.controller._destroy()}delete this._metasets[t]}_stop(){let t,e;this.stop();xn.remove(this);for(t=0,e=this.data.datasets.length;t<e;++t){this._destroyDatasetMeta(t)}}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop();this.config.clearCache();if(t){this.unbindEvents();Be(t,e);this.platform.releaseContext(e);this.canvas=null;this.ctx=null}delete Xo[this.id];this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents();if(this.options.responsive){this.bindResponsiveEvents()}else{this.attached=true}}bindUserEvents(){const t=this._listeners;const e=this.platform;const s=(s,n)=>{e.addEventListener(this,s,n);t[s]=n};const n=(t,e,s)=>{t.offsetX=e;t.offsetY=s;this._eventHandler(t)};ut(this.options.events,(t=>s(t,n)))}bindResponsiveEvents(){if(!this._responsiveListeners){this._responsiveListeners={}}const t=this._responsiveListeners;const e=this.platform;const s=(s,n)=>{e.addEventListener(this,s,n);t[s]=n};const n=(s,n)=>{if(t[s]){e.removeEventListener(this,s,n);delete t[s]}};const i=(t,e)=>{if(this.canvas){this.resize(t,e)}};let o;const r=()=>{n("attach",r);this.attached=true;this.resize();s("resize",i);s("detach",o)};o=()=>{this.attached=false;n("resize",i);this._stop();this._resize(0,0);s("attach",r)};if(e.isAttached(this.canvas)){r()}else{o()}}unbindEvents(){ut(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)}));this._listeners={};ut(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)}));this._responsiveListeners=undefined}updateHoverStyle(t,e,s){const n=s?"set":"remove";let i,o,r,c;if(e==="dataset"){i=this.getDatasetMeta(t[0].datasetIndex);i.controller["_"+n+"DatasetHoverStyle"]()}for(r=0,c=t.length;r<c;++r){o=t[r];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;if(e){e[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[];const s=t.map((({datasetIndex:t,index:e})=>{const s=this.getDatasetMeta(t);if(!s){throw new Error("No dataset found at index "+t)}return{datasetIndex:t,element:s.data[e],index:e}}));const n=!lt(s,e);if(n){this._active=s;this._lastEvent=null;this._updateHoverStyles(s,e)}}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter((e=>e.plugin.id===t)).length===1}_updateHoverStyles(t,e,s){const n=this.options.hover;const i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index))));const o=i(e,t);const r=s?t:i(t,e);if(o.length){this.updateHoverStyle(o,n.mode,false)}if(r.length&&n.mode){this.updateHoverStyle(r,n.mode,true)}}_eventHandler(t,e){const s={event:t,replay:e,cancelable:true,inChartArea:this.isPointInArea(t)};const n=e=>(e.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,n)===false){return}const i=this._handleEvent(t,e,s.inChartArea);s.cancelable=false;this.notifyPlugins("afterEvent",s,n);if(i||s.changed){this.render()}return this}_handleEvent(t,e,s){const{_active:n=[],options:i}=this;const o=e;const r=this._getActiveElements(t,n,s,o);const c=St(t);const a=Ko(t,this._lastEvent,s,c);if(s){this._lastEvent=null;ft(i.onHover,[t,r,this],this);if(c){ft(i.onClick,[t,r,this],this)}}const h=!lt(r,n);if(h||e){this._active=r;this._updateHoverStyles(r,n,e)}this._lastEvent=a;return h}_getActiveElements(t,e,s,n){if(t.type==="mouseout"){return[]}if(!s){return e}const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}}function tr(){return ut(Jo.instances,(t=>t._plugins.invalidate()))}function er(t,e,s=e){t.lineCap=at(s.borderCapStyle,e.borderCapStyle);t.setLineDash(at(s.borderDash,e.borderDash));t.lineDashOffset=at(s.borderDashOffset,e.borderDashOffset);t.lineJoin=at(s.borderJoinStyle,e.borderJoinStyle);t.lineWidth=at(s.borderWidth,e.borderWidth);t.strokeStyle=at(s.borderColor,e.borderColor)}function sr(t,e,s){t.lineTo(s.x,s.y)}function nr(t){if(t.stepped){return Xe}if(t.tension||t.cubicInterpolationMode==="monotone"){return Ze}return sr}function ir(t,e,s={}){const n=t.length;const{start:i=0,end:o=n-1}=s;const{start:r,end:c}=e;const a=Math.max(i,r);const h=Math.min(o,c);const f=i<r&&o<r||i>c&&o>c;return{count:n,start:a,loop:e.loop,ilen:h<a&&!f?n+h-a:h-a}}function or(t,e,s,n){const{points:i,options:o}=e;const{count:r,start:c,loop:a,ilen:h}=ir(i,s,n);const f=nr(o);let{move:u=true,reverse:l}=n||{};let d,p,b;for(d=0;d<=h;++d){p=i[(c+(l?h-d:d))%r];if(p.skip){continue}else if(u){t.moveTo(p.x,p.y);u=false}else{f(t,b,p,l,o.stepped)}b=p}if(a){p=i[(c+(l?h:0))%r];f(t,b,p,l,o.stepped)}return!!a}function rr(t,e,s,n){const i=e.points;const{count:o,start:r,ilen:c}=ir(i,s,n);const{move:a=true,reverse:h}=n||{};let f=0;let u=0;let l,d,p,b,m,g;const x=t=>(r+(h?c-t:t))%o;const y=()=>{if(b!==m){t.lineTo(f,m);t.lineTo(f,b);t.lineTo(f,g)}};if(a){d=i[x(0)];t.moveTo(d.x,d.y)}for(l=0;l<=c;++l){d=i[x(l)];if(d.skip){continue}const e=d.x;const s=d.y;const n=e|0;if(n===p){if(s<b){b=s}else if(s>m){m=s}f=(u*f+e)/++u}else{y();t.lineTo(e,s);p=n;u=0;b=m=s}g=s}y()}function cr(t){const e=t.options;const s=e.borderDash&&e.borderDash.length;const n=!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s;return n?rr:or}function ar(t){if(t.stepped){return sn}if(t.tension||t.cubicInterpolationMode==="monotone"){return nn}return en}function hr(t,e,s,n){let i=e._path;if(!i){i=e._path=new Path2D;if(e.path(i,s,n)){i.closePath()}}er(t,e.options);t.stroke(i)}function fr(t,e,s,n){const{segments:i,options:o}=e;const r=cr(e);for(const c of i){er(t,o,c.style);t.beginPath();if(r(t,e,c,{start:s,end:s+n-1})){t.closePath()}t.stroke()}}const ur=typeof Path2D==="function";function lr(t,e,s,n){if(ur&&!e.options.segment){hr(t,e,s,n)}else{fr(t,e,s,n)}}class dr extends Bi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:true,cubicInterpolationMode:"default",fill:false,spanGaps:false,stepped:false,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:true,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super();this.animated=true;this.options=undefined;this._chart=undefined;this._loop=undefined;this._fullLoop=undefined;this._path=undefined;this._points=undefined;this._segments=undefined;this._decimated=false;this._pointsUpdated=false;this._datasetIndex=undefined;if(t){Object.assign(this,t)}}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;Ls(this._points,s,t,n,e);this._pointsUpdated=true}}set points(t){this._points=t;delete this._segments;delete this._path;this._pointsUpdated=false}get points(){return this._points}get segments(){return this._segments||(this._segments=ln(this,this.options.segment))}first(){const t=this.segments;const e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments;const e=this.points;const s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options;const n=t[e];const i=this.points;const o=hn(this,{property:e,start:n,end:n});if(!o.length){return}const r=[];const c=ar(s);let a,h;for(a=0,h=o.length;a<h;++a){const{start:h,end:f}=o[a];const u=i[h];const l=i[f];if(u===l){r.push(u);continue}const d=Math.abs((n-u[e])/(l[e]-u[e]));const p=c(u,l,d,s.stepped);p[e]=t[e];r.push(p)}return r.length===1?r[0]:r}pathSegment(t,e,s){const n=cr(this);return n(t,this,e,s)}path(t,e,s){const n=this.segments;const i=cr(this);let o=this._loop;e=e||0;s=s||this.points.length-e;for(const r of n){o&=i(t,this,r,{start:e,end:e+s-1})}return!!o}draw(t,e,s,n){const i=this.options||{};const o=this.points||[];if(o.length&&i.borderWidth){t.save();lr(t,this,s,n);t.restore()}if(this.animated){this._pointsUpdated=false;this._path=undefined}}}function pr(t,e,s,n){const i=t.options;const{[s]:o}=t.getProps([s],n);return Math.abs(e-o)<i.radius+i.hitRadius}class br extends Bi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super();this.options=undefined;this.parsed=undefined;this.skip=undefined;this.stop=undefined;if(t){Object.assign(this,t)}}inRange(t,e,s){const n=this.options;const{x:i,y:o}=this.getProps(["x","y"],s);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return pr(this,t,"x",e)}inYRange(t,e){return pr(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;if(this.skip||s.radius<.1||!We(this,e,this.size(s)/2)){return}t.strokeStyle=s.borderColor;t.lineWidth=s.borderWidth;t.fillStyle=s.backgroundColor;Ye(t,s,this.x,this.y)}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}class mr extends Bi{constructor(t){super();this.chart=t.chart;this.options=t.options;this.ctx=t.ctx;this._padding=undefined;this.top=undefined;this.bottom=undefined;this.left=undefined;this.right=undefined;this.width=undefined;this.height=undefined;this.position=undefined;this.weight=undefined;this.fullSize=undefined}update(t,e){const s=this.options;this.left=0;this.top=0;if(!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t;this.height=this.bottom=e;const n=it(s.text)?s.text.length:1;this._padding=os(s.padding);const i=n*rs(s.font).lineHeight+this._padding.height;if(this.isHorizontal()){this.height=i}else{this.width=i}}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:n,right:i,options:o}=this;const r=o.align;let c=0;let a,h,f;if(this.isHorizontal()){h=ue(r,s,i);f=e+t;a=i-s}else{if(o.position==="left"){h=s+t;f=ue(r,n,e);c=Ct*-.5}else{h=i-t;f=ue(r,e,n);c=Ct*.5}a=n-e}return{titleX:h,titleY:f,maxWidth:a,rotation:c}}draw(){const t=this.ctx;const e=this.options;if(!e.display){return}const s=rs(e.font);const n=s.lineHeight;const i=n/2+this._padding.top;const{titleX:o,titleY:r,maxWidth:c,rotation:a}=this._drawArgs(i);Ge(t,e.text,0,0,s,{color:e.color,maxWidth:c,rotation:a,textAlign:fe(e.align),textBaseline:"middle",translation:[o,r]})}}function gr(t,e){const s=new mr({ctx:t.ctx,options:e,chart:t});gi.configure(t,s,e);gi.addBox(t,s);t.titleBlock=s}var xr={id:"title",_element:mr,start(t,e,s){gr(t,s)},stop(t){const e=t.titleBlock;gi.removeBox(t,e);delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;gi.configure(t,n,s);n.options=s},defaults:{align:"center",display:false,font:{weight:"bold"},fullSize:true,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:true,_indexable:false}};const yr=(t,e,s,n)=>{if(typeof e==="string"){s=t.push(e)-1;n.unshift({index:s,label:e})}else if(isNaN(e)){s=null}return s};function Mr(t,e,s,n){const i=t.indexOf(e);if(i===-1){return yr(t,e,s,n)}const o=t.lastIndexOf(e);return i!==o?s:i}const vr=(t,e)=>t===null?null:Gt(Math.round(t),0,e);function wr(t){const e=this.getLabels();if(t>=0&&t<e.length){return e[t]}return t}class kr extends co{static id="category";static defaults={ticks:{callback:wr}};constructor(t){super(t);this._startValue=undefined;this._valueRange=0;this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:s,label:n}of e){if(t[s]===n){t.splice(s,1)}}this._addedLabels=[]}super.init(t)}parse(t,e){if(nt(t)){return null}const s=this.getLabels();e=isFinite(e)&&s[e]===t?e:Mr(s,t,at(e,t),this._addedLabels);return vr(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(true);if(this.options.bounds==="ticks"){if(!t){s=0}if(!e){n=this.getLabels().length-1}}this.min=s;this.max=n}buildTicks(){const t=this.min;const e=this.max;const s=this.options.offset;const n=[];let i=this.getLabels();i=t===0&&e===i.length-1?i:i.slice(t,e+1);this._valueRange=Math.max(i.length-(s?0:1),1);this._startValue=this.min-(s?.5:0);for(let s=t;s<=e;s++){n.push({value:s})}return n}getLabelForValue(t){return wr.call(this,t)}configure(){super.configure();if(!this.isHorizontal()){this._reversePixels=!this._reversePixels}}getPixelForValue(t){if(typeof t!=="number"){t=this.parse(t)}return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;if(t<0||t>e.length-1){return null}return this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function _r(t,e){const s=[];const n=1e-14;const{bounds:i,step:o,min:r,max:c,precision:a,count:h,maxTicks:f,maxDigits:u,includeBounds:l}=t;const d=o||1;const p=f-1;const{min:b,max:m}=e;const g=!nt(r);const x=!nt(c);const y=!nt(h);const M=(m-b)/(u+1);let v=$t((m-b)/p/d)*d;let w,k,_,O;if(v<n&&!g&&!x){return[{value:b},{value:m}]}O=Math.ceil(m/v)-Math.floor(b/v);if(O>p){v=$t(O*v/p/d)*d}if(!nt(a)){w=Math.pow(10,a);v=Math.ceil(v*w)/w}if(i==="ticks"){k=Math.floor(b/v)*v;_=Math.ceil(m/v)*v}else{k=b;_=m}if(g&&x&&o&&Yt((c-r)/o,v/1e3)){O=Math.round(Math.min((c-r)/v,f));v=(c-r)/O;k=r;_=c}else if(y){k=g?r:k;_=x?c:_;O=h-1;v=(_-k)/O}else{O=(_-k)/v;if(Lt(O,Math.round(O),v/1e3)){O=Math.round(O)}else{O=Math.ceil(O)}}const D=Math.max(Ut(v),Ut(k));w=Math.pow(10,nt(a)?D:a);k=Math.round(k*w)/w;_=Math.round(_*w)/w;let S=0;if(g){if(l&&k!==r){s.push({value:r});if(k<r){S++}if(Lt(Math.round((k+S*v)*w)/w,r,Or(r,M,t))){S++}}else if(k<r){S++}}for(;S<O;++S){const t=Math.round((k+S*v)*w)/w;if(x&&t>c){break}s.push({value:t})}if(x&&l&&_!==c){if(s.length&&Lt(s[s.length-1].value,c,Or(c,M,t))){s[s.length-1].value=c}else{s.push({value:c})}}else if(!x||_===c){s.push({value:_})}return s}function Or(t,e,{horizontal:s,minRotation:n}){const i=Wt(n);const o=(s?Math.sin(i):Math.cos(i))||.001;const r=.75*e*(""+t).length;return Math.min(e/o,r)}class Dr extends co{constructor(t){super(t);this.start=undefined;this.end=undefined;this._startValue=undefined;this._endValue=undefined;this._valueRange=0}parse(t,e){if(nt(t)){return null}if((typeof t==="number"||t instanceof Number)&&!isFinite(+t)){return null}return+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options;const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this;const o=t=>n=e?n:t;const r=t=>i=s?i:t;if(t){const t=Tt(n);const e=Tt(i);if(t<0&&e<0){r(0)}else if(t>0&&e>0){o(0)}}if(n===i){let e=i===0?1:Math.abs(i*.05);r(i+e);if(!t){o(n-e)}}this.min=n;this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t;let n;if(s){n=Math.ceil(this.max/s)-Math.floor(this.min/s)+1;if(n>1e3){console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`);n=1e3}}else{n=this.computeTickLimit();e=e||11}if(e){n=Math.min(e,n)}return n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options;const e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==false};const i=this._range||this;const o=_r(n,i);if(t.bounds==="ticks"){Ht(o,this,"value")}if(t.reverse){o.reverse();this.start=this.max;this.end=this.min}else{this.start=this.min;this.end=this.max}return o}configure(){const t=this.ticks;let e=this.min;let s=this.max;super.configure();if(this.options.offset&&t.length){const n=(s-e)/Math.max(t.length-1,1)/2;e-=n;s+=n}this._startValue=e;this._endValue=s;this._valueRange=s-e}getLabelForValue(t){return Se(t,this.chart.options.locale,this.options.ticks.format)}}class Sr extends Dr{static id="linear";static defaults={ticks:{callback:Ee.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(true);this.min=rt(t)?t:0;this.max=rt(e)?e:1;this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal();const e=t?this.width:this.height;const s=Wt(this.options.ticks.minRotation);const n=(t?Math.sin(s):Math.cos(s))||.001;const i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Cr=t=>Math.floor(Rt(t));const jr=(t,e)=>Math.pow(10,Cr(t)+e);function Er(t){const e=t/Math.pow(10,Cr(t));return e===1}function Pr(t,e,s){const n=Math.pow(10,s);const i=Math.floor(t/n);const o=Math.ceil(e/n);return o-i}function Ar(t,e){const s=e-t;let n=Cr(s);while(Pr(t,e,n)>10){n++}while(Pr(t,e,n)<10){n--}return Math.min(n,Cr(t))}function Ir(t,{min:e,max:s}){e=ct(t.min,e);const n=[];const i=Cr(e);let o=Ar(e,s);let r=o<0?Math.pow(10,Math.abs(o)):1;const c=Math.pow(10,o);const a=i>o?Math.pow(10,i):0;const h=Math.round((e-a)*r)/r;const f=Math.floor((e-a)/c/10)*c*10;let u=Math.floor((h-f)/Math.pow(10,o));let l=ct(t.min,Math.round((a+f+u*Math.pow(10,o))*r)/r);while(l<s){n.push({value:l,major:Er(l),significand:u});if(u>=10){u=u<15?15:20}else{u++}if(u>=20){o++;u=2;r=o>=0?1:r}l=Math.round((a+f+u*Math.pow(10,o))*r)/r}const d=ct(t.max,l);n.push({value:d,major:Er(d),significand:u});return n}class Fr extends co{static id="logarithmic";static defaults={ticks:{callback:Ee.formatters.logarithmic,major:{enabled:true}}};constructor(t){super(t);this.start=undefined;this.end=undefined;this._startValue=undefined;this._valueRange=0}parse(t,e){const s=Dr.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=true;return undefined}return rt(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(true);this.min=rt(t)?Math.max(0,t):null;this.max=rt(e)?Math.max(0,e):null;if(this.options.beginAtZero){this._zero=true}if(this._zero&&this.min!==this._suggestedMin&&!rt(this._userMin)){this.min=t===jr(this.min,0)?jr(this.min,-1):jr(this.min,0)}this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min;let n=this.max;const i=e=>s=t?s:e;const o=t=>n=e?n:t;if(s===n){if(s<=0){i(1);o(10)}else{i(jr(s,-1));o(jr(n,+1))}}if(s<=0){i(jr(n,-1))}if(n<=0){o(jr(s,+1))}this.min=s;this.max=n}buildTicks(){const t=this.options;const e={min:this._userMin,max:this._userMax};const s=Ir(e,this);if(t.bounds==="ticks"){Ht(s,this,"value")}if(t.reverse){s.reverse();this.start=this.max;this.end=this.min}else{this.start=this.min;this.end=this.max}return s}getLabelForValue(t){return t===undefined?"0":Se(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure();this._startValue=Rt(t);this._valueRange=Rt(this.max)-Rt(t)}getPixelForValue(t){if(t===undefined||t===0){t=this.min}if(t===null||isNaN(t)){return NaN}return this.getPixelForDecimal(t===this.min?0:(Rt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}const Nr=":host{display:block}";const Rr=Nr;Jo.register(Vn,dr,br,kr,Sr,Fr,xr);const Tr=class{constructor(e){t(this,e);this.item=undefined}onItemChange(t){this.updateChart(t)}componentWillLoad(){this.createChart(this.item)}createChart(t){const e=this.canvasEl.getContext("2d");if(!e){console.error("Canvas context introuvable.");return}const s=t.averagePrices.map((t=>t.createdAt));const n=t.averagePrices.map((t=>t.averagePrice));const i=Math.min(...n)*.1;const o=Math.max(...n)*1.9;this.chart=new Jo(e,{type:"line",data:{labels:s,datasets:[{label:"Prix moyen au fil du temps",data:n,borderColor:"rgb(75, 192, 192)",fill:false,tension:.1}]},options:{responsive:true,plugins:{title:{display:true,text:"Évolution des prix moyens"}},scales:{x:{type:"category",title:{display:true,text:"Date"}},y:{type:"linear",title:{display:true,text:"Prix"},min:i,max:o}}}})}updateChart(t){if(!this.chart){this.createChart(t);return}this.chart.data.labels=t.averagePrices.map((t=>t.createdAt));this.chart.data.datasets[0].data=t.averagePrices.map((t=>t.averagePrice));const e=t.averagePrices.map((t=>t.averagePrice));this.chart.options.scales.y.min=Math.min(...e)*.1;this.chart.options.scales.y.max=Math.max(...e)*1.9;this.chart.update()}render(){return e("div",{key:"2a3da4088863d6aa5a8050d77fb5f10b058eff6f",class:"row"},e("div",{key:"3bf1f339015c3ebfc22b487ff4bf0263bdcc01de",class:"col-6"},this.item.name),e("div",{key:"3685aa2ec8e2d36d6b693ad5b011dbe51e47567d",class:"col-6"},e("canvas",{key:"a9be4821b80634f3ce4ebd9d810571d6293da8fa",ref:t=>this.canvasEl=t})))}static get watchers(){return{item:["onItemChange"]}}};Tr.style=Rr;const Lr=":host{display:block}";const $r=Lr;const zr=class{constructor(e){t(this,e);this.API_URL="http://localhost:2989/api";this.currentCatId=2;this.runes=[];this.items=[];this.focusFilterRuneId=0;this.rootCategories=[];this.orderDirection="DESC";this.propToSortOn=undefined;this.refresh=false}async componentWillLoad(){try{const t=await this.fetchFromApi("/items/equipments/7?offset=0&limit=500");const e=await this.fetchFromApi("/items/equipments/7?offset=500&limit=500");this.runes=await this.fetchFromApi("/items/runes");this.rootCategories=await this.fetchFromApi("/rootCategories");this.items=await this.processItems(t.concat(e));this.items=this.items.filter((t=>!isNaN(t.breakableRate)))}catch(t){console.error("Error fetching items:",t)}}async processItems(t){return Promise.all(t.map((async t=>{if(!t.ResultRecipes||!t.characteristics)return t;t.totalCraftPrice=this.calculateCraftPrice(t);t._runeDetails=this.calculateRuneDetails(t);this.setLowestBreakableRate(t);this.setBenefice(t);return t})))}async changeCategory(t){const e=await this.fetchFromApi(`/items/equipments/${t}?offset=0&limit=500`);const s=await this.fetchFromApi(`/items/equipments/${t}?offset=500&limit=500`);this.items=await this.processItems(e.concat(s));this.items=this.items.filter((t=>!isNaN(t.breakableRate)))}calculateCraftPrice(t){return t.ResultRecipes.reduce(((t,e)=>t+e.Ingredients.reduce(((t,e)=>{var s,n,i;const o=((i=(n=(s=e.Ingredient)===null||s===void 0?void 0:s.averagePrices)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.averagePrice)||0;return t+o*e.quantity}),0)),0)}calculateRuneDetails(t){const e=[];let s=0;let n=0;let i=0;let o;t.characteristics.forEach((r=>{var c;if(r.from<0||!((c=r.characteristic)===null||c===void 0?void 0:c.runes))return;r.characteristic.runes.forEach((c=>{var a,h,f,u;const l=c.density||1;const d=((f=(h=(a=c.rune)===null||a===void 0?void 0:a.averagePrices)===null||h===void 0?void 0:h[0])===null||f===void 0?void 0:f.averagePrice)||0;const p=r.to?(r.from+r.to)/2:r.from;const b=(3*p*l*t.lvl/200+1)/Math.max(l,1);const m=b*d;s+=m;const g=this.calculateFocusPdb(t,r,l);const x=g*d;if(x>i){i=x;o=c}n=Math.max(n,x);e.push({type:((u=c.rune)===null||u===void 0?void 0:u.name)||"Unknown Rune",quantityFocus:g,quantityNoFocus:b,priceFocus:x,priceNoFocus:m,focusedCharacteristic:r.characteristic.name})}))}));t.totalRunePrice=s;t.totalFocusRunePrice=n;t.bestCharToFocus=o;return e}calculateFocusPdb(t,e,s){return t.characteristics.reduce(((s,n)=>{var i;if(n.from<0)return s;const o=n.to?(n.from+n.to)/2:n.from;const r=3*o*(((i=n.characteristic.runes[0])===null||i===void 0?void 0:i.density)||1)*t.lvl/200+1;return s+(n.characteristic.id===e.characteristic.id?r:r*.5)}),0)/Math.max(s,1)}setLowestBreakableRate(t){const e=t.totalCraftPrice/t.totalFocusRunePrice;const s=t.totalCraftPrice/t.totalRunePrice;const n=Math.min(e,s);t.breakableRate=n;t.minBreakableRateFocus=e;t.minBreakableRateNoFocus=s;t._runeDetails.forEach((t=>{t.quantityFocus*=n;t.quantityNoFocus*=n;t.priceFocus*=n;t.priceNoFocus*=n}))}setBenefice(t){const e=t.totalFocusRunePrice-t.totalCraftPrice;const s=t.totalRunePrice-t.totalCraftPrice;t.benefit=Math.max(e,s);t.benefitPercentage=t.totalCraftPrice>0?t.benefit/t.totalCraftPrice*100:0}async fetchFromApi(t){const e=await fetch(this.API_URL+t);if(!e.ok){throw new Error(`HTTP error! Status: ${e.status}`)}return await e.json()}sortItems(){if(this.orderDirection==="DESC"){return this.items.sort(((t,e)=>e[this.propToSortOn]-t[this.propToSortOn]))}else if(this.orderDirection==="ASC"){return this.items.sort(((t,e)=>t[this.propToSortOn]-e[this.propToSortOn]))}else return this.items}sortByFocusedChar(){if(this.focusFilterRuneId==0)return this.sortItems();return this.sortItems().filter((t=>{var e,s;return((s=(e=t.bestCharToFocus)===null||e===void 0?void 0:e.rune)===null||s===void 0?void 0:s.id)==this.focusFilterRuneId}))}render(){var t;return e("div",{key:"228c43c5718eb502577bbb51a568462bebc645ba",class:"items-list"},e("h1",{key:"9ee12179a270a81347bea69ca12a51c13d1fa754"},"Items with Exact Prices and Rune Details"),e("select",{key:"fef73a443469d43583983c8ae0084579444f7542",onChange:t=>this.changeCategory(t.target.value)},this.rootCategories.map((t=>e("option",{value:t.id},t.name)))),e("select",{key:"89563ff221fdfad63fc23bba9a74d0d2fd8dcef6",onChange:t=>this.propToSortOn=t.target.value},e("option",{key:"2fc41071325d092d885560e489c3ad3e3ec5b55e",value:"breakableRate"},"Coeff"),e("option",{key:"6385a55d92b236b3974e9bbaf4fc56921cbec634",value:"totalCraftPrice"},"Crafting Price")),e("select",{key:"39a9b3837c5f83bee4862318d46759f864c40274",onChange:t=>{this.orderDirection=t.target.value}},e("option",{key:"c412746e9ed447582e15670f509e48dcf49dbc7a",value:"DESC"},"DESC"),e("option",{key:"9abf3da03f7853ff55be328fa7babb108cba1622",value:"ASC"},"ASC")),e("select",{key:"ba006157be6ee9bcec6473aef34edcac042810ed",onChange:t=>{this.focusFilterRuneId=t.target.value}},e("option",{key:"424a4c4c0cacaff52d7f2638c1e5bb18114a37a3",value:0},"No filter"),this.runes.map((t=>e("option",{value:t.id},t.name)))),((t=this.items)===null||t===void 0?void 0:t.length)===0?e("p",null,"Loading items..."):e("table",{class:"table"},e("thead",null,e("tr",null,e("th",null,"Item Name"),e("th",null,"Craft Cost"),e("th",null,"Focus"),e("th",null,"Minimum Break Coefficient"),e("th",null,"Rune Details"))),e("tbody",null,this.sortByFocusedChar().map((t=>{var s;return t.totalCraftPrice>0&&e("tr",{key:t.id},e("td",null,t.name," : ",(s=t.category)===null||s===void 0?void 0:s.name," - lvl ",t.lvl),e("td",null,t.totalCraftPrice.toFixed(0)),e("td",null,t.minBreakableRateFocus>t.minBreakableRateNoFocus?"No Focus":"Focus"),e("td",null,(Math.min(t.minBreakableRateFocus,t.minBreakableRateNoFocus)*100).toFixed(0)),e("td",null,t._runeDetails.length>0?e("ul",null,t._runeDetails.map((t=>e("li",{key:t.type},t.type,":",e("ul",null,e("li",null,"Quantity Focus: ",t.quantityFocus.toFixed(1)," (Total: ",t.priceFocus.toFixed(2),")"),e("li",null,"Quantity No Focus: ",t.quantityNoFocus.toFixed(1)," (Total: ",t.priceNoFocus.toFixed(2),")")))))):"N/A"))})))))}};zr.style=$r;export{r as app_home,f as app_root,Tr as item_lookup_component,zr as item_recipe_component};
//# sourceMappingURL=p-3535c6d7.entry.js.map